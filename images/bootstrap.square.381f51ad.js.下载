window.sc.getESLInstance().addEslConfig({paths:{"js/cosmic.square.3016dc4b":"https://now.bdstatic.com/store/v2/d4f2bff/chat-search/250a41b/chat-square/static/js/cosmic.square.3016dc4b","js/search-components.square.e9df5fe7":"https://now.bdstatic.com/store/v2/d4f2bff/chat-search/250a41b/chat-square/static/js/search-components.square.e9df5fe7","js/bootstrap.square.381f51ad":"https://now.bdstatic.com/store/v2/d4f2bff/chat-search/250a41b/chat-square/static/js/bootstrap.square.381f51ad"}}),define("js/bootstrap.square.381f51ad",["san"],(function(t){"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var n={exports:{}};function a(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}(function(t){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(t,e){if(!a(t,e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t){return s(t)||c(t)||l(t)||d()}function s(t){if(Array.isArray(t))return u(t)}function c(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function l(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(t){var e=[],n=[];function a(t){if(t.$change)return t.target=n.slice(0),void e.push(t);for(var i in t)t.hasOwnProperty(i)&&(n.push(i),a(t[i]),n.pop())}return a(t),e}function f(t){if(a(t,Array))return t;if("string"!=typeof t)return[];for(var e=t.split("."),n=[],i=0,r=e.length;i<r;i++){var o=e[i],s=o.indexOf("[");if(s>=0)for(s>0&&(n.push(o.slice(0,s)),o=o.slice(s));91===o.charCodeAt(0);){var c=o.indexOf("]");if(c<0)throw new Error("name syntax error: "+t);var l=o.slice(1,c);/^[0-9]+$/.test(l)?n.push(+l):/^(['"])([^\1]+)\1$/.test(l)&&n.push(l.slice(1,-1)),o=o.slice(c+1)}else n.push(o)}return n}var h="undefined"!=typeof window;function m(t,e){h&&window.__san_devtool__&&window.__san_devtool__.emit(t,e)}var g,y=0,v=function(){return(++y).toString()},b=function(){function t(){var e=this,a=Array.from(arguments).length>0&&void 0!==Array.from(arguments)[0]?Array.from(arguments)[0]:{},i=a.initData,r=void 0===i?{}:i,o=a.actions,s=void 0===o?{}:o,c=a.log,l=void 0!==c&&c,u=a.name;n(this,t),this.raw=r,this.actions=s,this.log=l,this.name=u,this.id=v(),this.listeners=[],this.stateChangeLogs=[],this.actionInfos=[],this.actionInfoIndex={},this.aiLen=0,this.stateGetter=function(t){return e.getState(t)}}return r(t,[{key:"getState",value:function(t){t=f(t);for(var e=this.raw,n=0,a=t.length;null!=e&&n<a;n++)e=e[t[n]];return e}},{key:"listen",value:function(t){"function"==typeof t&&this.listeners.push(t),this.log&&m("store-listened",{store:this,listener:t})}},{key:"unlisten",value:function(t){for(var e=this.listeners.length;e--;)this.listeners[e]===t&&this.listeners.splice(e,1);this.log&&m("store-unlistened",{store:this,listener:t})}},{key:"_fire",value:function(t){for(var e=0,n=this.listeners.length;e<n;e++)this.listeners[e].call(this,t)}},{key:"addAction",value:function(t,e){if("function"==typeof e){if(this.actions[t])throw new Error("Action "+t+" exists!");this.actions[t]=e,this.log&&m("store-action-added",{store:this,action:e})}}},{key:"dispatch",value:function(t,e){return this._dispatch(t,e)}},{key:"_dispatch",value:function(t,e,n){var a=this,i=this.actions[t],r=v();if("function"==typeof i){var o,s=this._actionStart(r,t,i,e,n);if(s){if("function"==typeof s.then)return s.then((function(t){return a._actionDone(r),t}));var c=this.raw;this.raw=s[0],o=s[1],this.log&&this.stateChangeLogs.push({oldValue:c,newValue:this.raw,diff:o,id:r})}this._actionDone(r),o&&o.length>0&&this._fire(o)}}},{key:"_getActionInfo",value:function(t){var e=this.actionInfoIndex[t];if(null!=e)return this.actionInfos[e]}},{key:"_actionStart",value:function(t,e,n,a,i){var r=this,o={id:t,name:e,parentId:i,childs:[]};if(this.log&&(o.startTime=(new Date).getTime(),o.payload=a),this.actionInfos[this.aiLen]=o,this.actionInfoIndex[t]=this.aiLen++,i){var s=this._getActionInfo(i);s&&s.childs.push(t)}this.log&&m("store-dispatch",{store:this,name:e,payload:a,actionId:t,parentId:i});var c=n.call(this,a,{getState:this.stateGetter,dispatch:function(e,n){return r._dispatch(e,n,o.done?null:t)}});if(null!=c){if("function"==typeof c.buildWithDiff){var l=c.buildWithDiff()(this.raw);return l[1]=p(l[1]),this.log&&(o.updateInfo=l),l}if("function"==typeof c.then)return c}}},{key:"_actionDone",value:function(t){this._getActionInfo(t).selfDone=!0,this._detectActionDone(t)}},{key:"_detectActionDone",value:function(t){if(t){var e=this._getActionInfo(t);if(e){if(!e.selfDone)return!1;for(var n=0;n<e.childs.length;n++)if(!this._getActionInfo(e.childs[n]).done)return!1;if(e.done=!0,this.log&&(e.endTime=(new Date).getTime(),m("store-dispatched",{store:this,diff:e.updateInfo?e.updateInfo[1]:null,name:e.name,payload:e.payload,actionId:e.id,parentId:e.parentId})),e.parentId)this._detectActionDone(e.parentId);else if(!this.log){for(var a=this.actionInfos.length;a--;)if(!this.actionInfos[a].done)return;this.actionInfos=[],this.aiLen=0,this.actionInfoIndex={}}return!0}}}}]),t}(),_=new b({name:"__default__"});function w(t,e,n,i){var r=n.stateName;if(r){for(var s=r.length,c=i,l=0;l<s;){var u=r[l];if(!c[u]){c.__selfDiff__||(c=null);break}l++,c=c[u]}if(0!==l&&c){var d=c.__diffs__;if(d)for(var p=0;p<d.length;p++){var f=d[p],h=f.target,m=n.dataName,g=n.stateName;h.length>s&&(m+="."+h.slice(s).join("."),g=h),h.length>=s&&f.splice?t.data.splice(m,a(f.splice.insertions,Array)?[f.splice.index,f.splice.deleteCount].concat(o(f.splice.insertions)):[f.splice.index,f.splice.deleteCount]):t.data.set(m,e.getState(g))}}}}function x(t){for(var e={},n=0,a=t.length;n<a;n++){for(var i=t[n].target,r=e,o=[],s=0;s<i.length;s++){var c=i[s],l=r[c];if(!l){l={__diffs__:[]},r[c]=l;for(var u=0;u<s;u++){var d=o[u].__offsprings__;d||(d=o[u].__offsprings__=[]),d.push(l)}}r=l,o[s]=l}r.__selfDiff__=!0}for(var p=0,f=t.length;p<f;p++){for(var h=t[p],m=h.target,g=e,y=0;y<m.length;y++)(g=g[m[y]]).__diffs__.push(h);var v=g.__offsprings__;if(v)for(var b=0;b<v.length;b++)v[b].__diffs__.push(h)}return e}m("store-default-inited",{store:_});try{g=new Function("RawClass","return class extends RawClass {}")}catch(t){}function S(t){var e=function(){};e.prototype=t.prototype;var n=function(e){return t.call(this,e)||this};return n.prototype=new e,n.prototype.constructor=n,e.prototype.hasOwnProperty("aPack")&&(n.prototype.aPack=e.prototype.aPack),n}function k(t){var e;return(e=0===t.toString().indexOf("class")?g(t):S(t)).template=t.template,e.components=t.components,e.trimWhitespace=t.trimWhitespace,e.delimiters=t.delimiters,e.autoFillStyleAndId=t.autoFillStyleAndId,e.filters=t.filters,e.computed=t.computed,e.aPack=t.aPack,e.messages=t.messages,e}function O(t,n,i){var r=[];function o(t,n,i){a(t,b)||(i=n,n=t,t=_);for(var o=[],s=0,c=Object.keys(n),l=0;l<c.length;l++){var u=c[l],d=n[u],p={dataName:u};switch(e(d)){case"string":p.stateName=f(d);break;case"function":p.getter=d;break;default:p=null}p&&(o.push(p),s++)}r.push({mapStates:n,mapStateInfos:o,mapStateCount:s,mapActions:i,store:t}),t.log&&m("store-connected",{mapStates:n,mapActions:i,store:t})}function s(t){var e,n,o;"function"==typeof t?(n=k(t),e=t.prototype,o=n.prototype):(e=t||{},n=Object.assign({},t),o=n);var s=e.inited,c=e.disposed;if(o.inited=function(){var t=this;this.__storeListeners=this.__storeListeners||[];for(var e=function(e){for(var n=r[e],a=n.mapStates,o=n.mapStateCount,s=n.mapStateInfos,c=n.store,l=0;l<o;l++){var u=s[l];"function"==typeof u.getter?t.data.set(u.dataName,u.getter(c.getState(),t)):t.data.set(u.dataName,c.getState(u.stateName))}var d=function(e){for(var n=x(e),a=0;a<o;a++){var i=s[a];"function"==typeof i.getter?t.data.set(i.dataName,i.getter(c.getState(),t)):w(t,c,i,n)}};c.listen(d),t.__storeListeners.push(d),c.log&&m("store-comp-inited",{mapStates:a,mapActions:i,store:c,component:t})},n=0;n<r.length;n++)e(n);"function"==typeof s&&s.call(this)},o.disposed=function(){for(var t=0;t<r.length;t++){var e=r[t],n=e.mapStates,a=e.mapActions,i=e.store;i.unlisten(this.__storeListeners[t]),i.log&&m("store-comp-disposed",{mapStates:n,mapActions:a,store:i,component:this})}"function"==typeof c&&c.call(this)},!o.actions){o.actions={};for(var l=function(t){var e=r[t],n=e.mapActions,i=e.store;if(!n)return"continue";if(a(n,Array))for(var s=function(t){var e=n[t];o.actions[e]=function(t){return i.dispatch(e,t)}},c=0;c<n.length;c++)s(c);else for(var l=Object.keys(n),u=function(t){var e=l[t],a=n[e];o.actions[e]=function(t){return i.dispatch(a,t)}},d=0;d<l.length;d++)u(d)},u=0;u<r.length;u++)l(u)}return n}return o(t,n,i),s.connect=function(t,e,n){return o(t,e,n),s},s}O.createConnector=function(t){if(a(t,b))return function(e,n){return O(t,e,n)};throw new Error(t+" must be an instance of Store!")},O.san=function(t,e,n){return O(t,e,n)};var T="2.2.8";t.Store=b,t.connect=O,t.store=_,t.version=T,Object.defineProperty(t,"__esModule",{value:!0})})(n.exports);var i=n.exports;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var o={exports:{}};function s(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":r(t)}!function(t,e){var n,a,i,r,o,c,l,u,d,p,f,h,m,g,y,v,b,_,w,x,S,k,O,T,I,E,P,A,D,L,j,C,$,N,R,q,W,B,U,F,H,M,z,J,G;n=e,a=function(t){var e={};for(var n in t)e[n]=t[n];return e},i=function(t,e){for(var n=0;n<t.length;n++){var a=t[n];if(e(a))return a}},r=function(t){if(!t)return!1;for(var e in t)if(t.hasOwnProperty(e))return!0;return!1},o=function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},c=function(t,e,n){return{$change:t,oldValue:e,newValue:n}},l=function(t,e,n,a,i){return{$change:"change",oldValue:t,newValue:e,splice:{index:n,deleteCount:a,insertions:i}}},u="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(t){return void 0===t?"undefined":s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":s(t)},d=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},p=function(){function t(t,e){var n=[],a=!0,i=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(t){i=!0,r=t}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(t){return Array.isArray(t)?t:Array.from(t)},h=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},m={},g={$set:function(t,e,n){var a=t[e];return n===a?[n,null]:[n,c(t.hasOwnProperty(e)?"change":"add",a,n)]},$push:function(t,e,n){var a=t[e];if(!Array.isArray(a))throw new Error("Usage of $push command on non array object is forbidden.");var i=a.concat([n]);return[i,l(a,i,a.length,0,[n])]},$unshift:function(t,e,n){var a=t[e];if(!Array.isArray(a))throw new Error("Usage of $unshift command on non array object is forbidden.");var i=[n].concat(a);return[i,l(a,i,0,0,[n])]},$pop:function(t,e,n){var a=t[e];if(!Array.isArray(a))throw new Error("Usage of $pop command on non array object is forbidden.");if(a.length&&(!0===n||"function"==typeof n&&n(a))){var i=a.slice(0,-1);return[i,l(a,i,a.length,1,[])]}return[a,null]},$shift:function(t,e,n){var a=t[e];if(!Array.isArray(a))throw new Error("Usage of $shift command on non array object is forbidden.");if(a.length&&(!0===n||"function"==typeof n&&n(a))){var i=a.slice(1);return[i,l(a,i,a.length,1,[])]}return[a,null]},$removeAt:function(t,e,n){var a=t[e];if(!Array.isArray(a))throw new Error("Usage of $removeAt command on non array object is forbidden.");if(n>=a.length||n<0)return[a,null];var i=a.slice(0,n).concat(a.slice(n+1));return[i,l(a,i,n,1,[])]},$remove:function(t,e,n){var a=t[e];if(!Array.isArray(a))throw new Error("Usage of $removeAt command on non array object is forbidden.");var i=o(a,n);if(-1===i)return[a,null];var r=a.slice(0,i).concat(a.slice(i+1));return[r,l(a,r,i,1,[])]},$splice:function(t,e,n){var a=f(n),i=a[0],r=a[1],o=a.slice(2),s=t[e];if(!Array.isArray(s))throw new Error("Usage of $splice command on non array object is forbidden.");var c=s.slice(0,i).concat(o).concat(s.slice(i+r));return[c,l(s,c,i,r,o)]},$map:function(t,e,n){var a=t[e];if(!Array.isArray(a))throw new Error("Usage of $map command on non array object is forbidden.");var i=a.map(n);return[i,c("change",a,i)]},$filter:function(t,e,n){var a=t[e];if(!Array.isArray(a))throw new Error("Usage of $filter command on non array object is forbidden.");var i=a.filter(n);return[i,c("change",a,i)]},$reduce:function(t,e,n){var a=t[e];if(!Array.isArray(a))throw new Error("Usage of $reduce command on non array object is forbidden.");var i="function"==typeof n?a.reduce(n):a.reduce.apply(a,h(n));return[i,c("change",a,i)]},$merge:function(t,e,n){var i=t[e]||{},r=a(i),o={};for(var s in n)if(n.hasOwnProperty(s)){var l=n[s],u=i[s];if(l!==u){r[s]=l;var d=i.hasOwnProperty(s)?"change":"add";o[s]=c(d,u,l)}}return[r,o]},$defaults:function(t,e,n){var i=t[e],r=a(i),o={};for(var s in n)n.hasOwnProperty(s)&&void 0===r[s]&&(r[s]=n[s],o[s]=c("add",void 0,n[s]));return[r,o]},$apply:function(t,e,n){var a=n(t[e]);return[a,c(t.hasOwnProperty(e)?"change":"add",t[e],a)]},$omit:function(t,e,n){var a=t[e];return!0===n||"function"==typeof n&&n(a)?[m,c("remove",a,void 0)]:[a,null]},$composeBefore:function(t,e,n){var a=t[e];if("function"!=typeof a)throw new Error("Usage of $composeBefore command on non function object is forbidden.");if("function"!=typeof n)throw new Error("Passing non function object to $composeBefore command is forbidden");var i=function(){return a(n.apply(void 0,Array.from(arguments)))};return[i,c("change",a,i)]},$composeAfter:function(t,e,n){var a=t[e];if("function"!=typeof a)throw new Error("Usage of $composeAfter command on non function object is forbidden.");if("function"!=typeof n)throw new Error("Passing non function object to $composeAfter command is forbidden");var i=function(){return n(a.apply(void 0,Array.from(arguments)))};return[i,c("change",a,i)]}},y=Object.keys(g),v=y.map((function(t){return t.slice(1)})),b=function t(e,n){var a=i(y,(function(t){return n.hasOwnProperty(t)}));if(a){var o={source:e},s=n[a];return g[a](o,"source",s)}var c=function(a){var r=n[a],o=i(y,(function(t){return r.hasOwnProperty(t)}));return o?g[o](e,a,r[o]):t(e[a]||{},r)},l=function(t,e){for(var a in n)if(!t.hasOwnProperty(a)&&n.hasOwnProperty(a)){var i=c(a),r=p(i,2),o=r[0],s=r[1];e[a]=s,o!==m&&(t[a]=o)}return[t,e]};if(Array.isArray(e)){for(var u=[],d={},f=0;f<e.length;f++)if(n.hasOwnProperty(f)){var h=c(f),v=p(h,2),b=v[0],_=v[1];r(_)&&(d[f]=_),b!==m&&u.push(b)}else u.push(e[f]);return l(u,d)}var w={},x={};for(var S in e)if(n.hasOwnProperty(S)){var k=c(S),O=p(k,2);b=O[0],_=O[1],r(_)&&(x[S]=_),b!==m&&(w[S]=b)}else w[S]=e[S];return l(w,x)},_=function(t,e){return b(t,e)[0]},w="[".charCodeAt(0),x=function(t){if(Array.isArray(t))return t;for(var e=(t+"").split("."),n=[],a=0;a<e.length;a++){var i=e[a],r=i.indexOf("[");if(r>=0)for(r>0&&(n.push(i.slice(0,r)),i=i.slice(r));i.charCodeAt(0)===w;){var o=i.indexOf("]");if(o<0)throw new Error("Property path syntax error: "+t);var s=i.slice(1,o);if(/^[0-9]+$/.test(s))n.push(+s);else{if(!/^(['"])([^\1]+)\1$/.test(s))throw new Error("Property path syntax error: "+t);n.push(new Function("return "+s)())}i=i.slice(o+1)}else n.push(i)}return n},S=function(t,e){if(null==t)return e;for(var n=x(t),a={},i=a,r=0;r<n.length-1;r++)i=i[n[r]]={};return i[n[n.length-1]]=e,a},k=function(t,e,n){return _(t,S(e,{$set:n}))},O=function(t,e,n){return _(t,S(e,{$push:n}))},T=function(t,e,n){return _(t,S(e,{$unshift:n}))},I=function(t,e,n){return _(t,S(e,{$pop:n}))},E=function(t,e,n){return _(t,S(e,{$shift:n}))},P=function(t,e,n){return _(t,S(e,{$removeAt:n}))},A=function(t,e,n){return _(t,S(e,{$remove:n}))},D=function(t,e,n,a){for(var i=Array.from(arguments).length,r=Array(i>4?i-4:0),o=4;o<i;o++)r[o-4]=Array.from(arguments)[o];var s=[n,a].concat(r);return _(t,S(e,{$splice:s}))},L=function(t,e,n){return _(t,S(e,{$map:n}))},j=function(t,e,n){return _(t,S(e,{$filter:n}))},C=function(t,e){for(var n=Array.from(arguments).length,a=Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=Array.from(arguments)[i];var r=1===a.length?{$reduce:a[0]}:{$reduce:a};return _(t,S(e,r))},$=function(t,e,n){return _(t,S(e,{$merge:n}))},N=function(t,e,n){return _(t,S(e,{$defaults:n}))},R=function(t,e,n){return _(t,S(e,{$apply:n}))},q=function(t,e){return _(t,S(e,{$omit:!(Array.from(arguments).length>2&&void 0!==Array.from(arguments)[2])||Array.from(arguments)[2]}))},W=function(t,e,n){return _(t,S(e,{$composeBefore:n}))},B=function(t,e,n){return _(t,S(e,{$composeAfter:n}))},U=function(t,e,n,a){if(Array.isArray(n)){var i=function(){var i=n.map((function(e){return e(t)})),r=function(t){return a.apply(void 0,h(i).concat([t]))};return{v:R(t,e,r)}}();if("object"===(void 0===i?"undefined":u(i)))return i.v}var r=n(t),o=function(t){return a(r,t)};return R(t,e,o)},F={},H=function t(e,n){return v.reduce((function(a,i){return a[i]=function(a){for(var r=Array.from(arguments).length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=Array.from(arguments)[s];var c=d({},"$"+i,1===o.length?o[0]:o),l=$(n,a,c);return t(e,l)},a}),{value:function(){return _(e,n)},withDiff:function(){return b(e,n)}})},M=function(t){return H(t,F)},z=function t(e){return v.reduce((function(n,a){return n[a]=function(n){for(var i=Array.from(arguments).length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=Array.from(arguments)[o];var s=d({},"$"+a,1===r.length?r[0]:r),c=$(e,n,s);return t(c)},n}),{build:function(){var t=function(t){return _(t,e)};return t.withDiff=function(t){return b(t,e)},t},buildWithDiff:function(){return function(t){return b(t,e)}}})},J=z({}),G=function(){return J},n.chain=M,n.immutable=M,n.macro=G,n.builder=G,n.updateBuilder=G,n.update=_,n.withDiff=b,n.set=k,n.push=O,n.unshift=T,n.pop=I,n.shift=E,n.removeAt=P,n.remove=A,n.splice=D,n.map=L,n.filter=j,n.reduce=C,n.merge=$,n.defaults=N,n.apply=R,n.omit=q,n.composeBefore=W,n.composeAfter=B,n.applyWith=U,Object.defineProperty(n,"__esModule",{value:!0})}(0,o.exports);var c=o.exports;function l(t){var e={};return t.forEach((function(t,n){e[n]=t})),e}var u,d,p,f,h,m=["cs_tab_cache_key","appendQuery","appendSa","extParams","extParamsJson","isLoggedIn","csaitab_slip_prefetch","clickTime","ori_word","ori_lid","agentInfo","headers","do_not_intercept","cs_ext_params"];!function(t){t.REBUILD="rebuild",t.APPEND="append"}(u||(u={})),function(t){t.CONVERSATION="conversation",t.SHOW_AGENT_GREETING="showAgentGreeting"}(d||(d={})),function(t){t.GRAPH_SEARCH="graph_search",t.CHAT_SEARCH="chat_search"}(p||(p={})),function(t){t.CHAT="3741000200000000",t.SIDEBAR="3741000110001000"}(f||(f={})),function(t){t.LOGIN="LOGIN",t.LOGIN_SUCCESS="LOGIN_SUCCESS",t.FEEDBACK_CLOSE="FEEDBACK_CLOSE"}(h||(h={}));var g,y="CHAT_SEARCH_USED_MODEL",v={CHAT:{path:"/search"},HISTORY:{path:"/aichat/history"},SQUARE:{path:"/aichat/square"},AGENT:{path:"/aichat/lingjing"},DEEPSEEK:{path:"/deepseek"}};!function(t){t.DEFAULT_MODEL_ID="ERINE-3.5",t.DEEP_SEEK_MODEL_ID="DeepSeek-R1"}(g||(g={}));var b=new URL(document.URL),_=b.host.indexOf("debug")>-1||"2"===b.searchParams.get("info");var w=function(){var t="";if(_)try{t=JSON.parse(b.searchParams.get("dheader"))["User-Agent"]}catch(t){console.error("获取debug环境ua失败",t)}var e=(_&&t?t:navigator.userAgent).toLowerCase(),n=e.includes("iphone")||e.includes("ipod")||e.includes("ipad"),a=e.includes("android"),i=e.includes("baiduboxapp"),r=e.includes("theme/dark"),o=e.includes("bdhonorbrowser"),s=e.includes("qqbrowser"),c=e.includes("safari")&&!e.includes("chrome"),l=e.includes("firefox"),u=location.href.includes("extension://")&&e.includes("edg/"),d=e.includes("ipad")?"pc":/Mobi|Android|iPhone/i.test(e||"")?"wise":"pc";return{isIOS:n,isAndroid:a,isBaiduBox:i,isDarkMode:r,isQQBrowser:s,isSafari:c,platform:d,debugUA:t,isWindows:e.includes("windows"),isFirefox:l,isEdgeExtension:u,scene:"square",isDeepSeekPage:"/deepseek"===location.pathname&&"pc"!==d,isOnline:"chat.baidu.com"===b.host,isBdhonor:o}}();function x(){return w.platform}function S(){return w.isDeepSeekPage}var k=function(t){return Object.prototype.toString.call(t)};function O(t){return"[object Object]"===k(t)}function T(t){return"[object String]"===k(t)}function I(){return I=Object.assign||function(t){for(var e=1;e<Array.from(arguments).length;e++){var n=Array.from(arguments)[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},I.apply(this,Array.from(arguments))}var E,P=["askBack","questionCloselyShort"];function A(t){var e={};return Object.keys(t).forEach((function(n){var a=t[n];void 0!==a&&(e[n]=a)})),e}function D(t){return t?t.inputCustom&&(e=t.inputCustom,"[object Array]"!==k(e))||t.word&&!T(t.word)?null:t:null;var e}function L(t){return t&&T(t.type)&&T(t.triggerType)?t:null}function j(t){var e=t.searchParams,n=t.eventParams,a=t.user,i=e||n,r=i.extParamsJson||i.extParams||i.cs_ext_params||{},o=i.headers||{},s=i.word,c=i.query,l=i.conversationLogId,u=i.isLoggedIn,p=i.urlParams,f=i.isShowHello,h=i.enterType,m=i.preQuery,g=i.tabName,v=i.pageType,b=localStorage.getItem(y)||"{}",_=c||s;try{r=(r="string"==typeof r?JSON.parse(n?decodeURIComponent(r):r):r).extParams&&"string"==typeof r.extParams?JSON.parse(r.extParams):r,o="string"==typeof o?JSON.parse(n?decodeURIComponent(o):o):o}catch(t){console.error(t)}var w=i.extParamsJson,k=i.extParams;if(w&&k)try{w="string"==typeof w?JSON.parse(w?decodeURIComponent(w):w):r,k="string"==typeof k?JSON.parse(k?decodeURIComponent(k):k):k,r=Object.assign(w,k)}catch(t){}var O=i.agentInfo||r.agentInfo||{},T=i.triggerType||r.triggerType||d.CONVERSATION;try{O="string"==typeof O?JSON.parse(decodeURIComponent(O)):O}catch(t){console.error(t)}var E=r.invokeChatExt;if(E)try{var j="string"==typeof E?JSON.parse(E):E;O.agentParams?O.agentParams=I({},O.agentParams,j):O.agentParams=j}catch(t){console.error("解析参数发生错误:",t)}O=function(t){var e=null==t?void 0:t.agentId;return(null==t?void 0:t.jumpUrl)||(null==t?void 0:t.jump_url)||!e||(t=I({},t,{jumpUrl:{zbios:"baiduboxapp://swan/"+e+"?_baiduboxapp=%7B%22lingjing_type%22%3A"}})),t}(O);var C=r.sge_lid,$=r.apagelid,N=r.sa,R=r.ori_lid,q=r.ori_word,W=r.askType,B=r.aitab_ct,U=r.actiontype,F=r.csextdata,H=r.shareId,M=r.enter_type,z=r.tplname,J=r.srcid,G=r.order,Q=r.helloKey,K=r.helloAgentID,V=r.helloQuery,X=r.open_left_agent,Y=r.queryPrefix,Z=r.messageReadStyle,tt=r.upperSearchbox,et=r.openInputPanel,nt=r.localSelectedId,at=r.localFullFeature,it=r.landingPageSwitch,rt=r.selectedId,ot=r.fullFeature,st=r.modelList,ct=r.isShowHello,lt=r.subEnterType,ut={sgeLid:C,query:q||_,agentInfo:O||{},conversationLogId:l,clientHeaders:o,apagelid:$,iosSlipPrefetchEnable:i.csaitab_slip_prefetch,setype:i.setype,sid:i.sid,sa:N||i.sa,agentSa:i.agentSa,appUrlParams:p,user:a,askType:W,connectPreQuery:m||Y||(P.includes(W)&&q&&q!==_?_:""),lastReciveEventTime:i.clickTime||+new Date,aitab_ct:B,actiontype:U,triggerType:T,isShowHello:+ct||+f||(q||_?0:1),tabName:g,shareId:H,csextdata:F,enterType:h||M,pcEnterType:M,tplname:z,srcid:J,order:G,openLeftAgent:X,pageType:v,messageReadStyle:Z,upperSearchbox:D(tt),openInputPanel:L(et)};if((ut.isShowHello&&"wise"===x()||"message"===h)&&(ut.isShowHello=1,Z&&"0"!==Z&&!Number.isNaN(+Z)&&(ut.initShowHistory=!0)),ut.query&&i.clickTime&&(ut.naInjectTime=+new Date-i.clickTime),R&&(ut.oriLid=R),lt&&(ut.subEnterType=lt),void 0!==u&&(a.isUserLogin=!!+(u||0),ut.user=a),e&&e.chatsearch_action_id&&(ut.chatSearchAcitonId=e.chatsearch_action_id),g&&(ut.pcEnterType="find_agent"),f&&Q&&(ut.helloInfo={helloKey:Q,helloAgentID:K,helloQuery:V}),(nt||rt)&&(ut.initModelInfo={localSelectedId:nt,localFullFeature:at,landingPageSwitch:it,fullFeature:"string"==typeof ot?"true"===ot:ot,selectedId:rt,modelList:st}),(null==b?void 0:b.length)>0&&"pc"===x()||S()){if(S())try{ut.usedModel=JSON.parse(localStorage.getItem(y))||{modelName:"DeepSeek-R1"}}catch(t){ut.usedModel={modelName:"DeepSeek-R1"}}else ut.usedModel=JSON.parse(b);localStorage.setItem(y,JSON.stringify(ut.usedModel))}return A(ut)}function C(t){var e=null,n=document.querySelectorAll(t);try{n.forEach((function(t){t.innerHTML&&(e=Object.assign({},e,JSON.parse(t.innerHTML)))}))}catch(t){}return e}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function N(){return N=Object.assign||function(t){for(var e=1;e<Array.from(arguments).length;e++){var n=Array.from(arguments)[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},N.apply(this,Array.from(arguments))}function R(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return $(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0;return function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function q(t,e){if(t&&e)return t.variables&&t.variables[e]}function W(t,e,n){var a=q(t,e);return!(!a||!n)&&a===n}function B(){var t,e,n=new URL(location.href).search,a=C('script[name="aiTabFrameBaseData"]')||{},i=l(new URL(location.href).searchParams),r=j({searchParams:i,user:Object.assign(a.user||{},a.userInfo||{})}),o=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=!1);var a={},i=[].concat(e),r=(null==t?void 0:t.landingPageSwitch)||"";if(Array.isArray(i)&&i.length>0){var o=(null==t?void 0:t.selectedId)||(null==t?void 0:t.localSelectedId),s="undefined"!==String(null==t?void 0:t.fullFeature)?null==t?void 0:t.fullFeature:"undefined"===String(null==t?void 0:t.localFullFeature)||(null==t?void 0:t.localFullFeature);n&&!o||(o&&"undefined"!==o?(a={modelName:o},i.forEach((function(t){t.fullFeature=t.id===g.DEFAULT_MODEL_ID,t.id===o?(t.checked=!0,t.fullFeature=s):t.checked=!1}))):i.forEach((function(t){t.id===g.DEFAULT_MODEL_ID?(t.checked=!0,t.fullFeature=!0):t.checked=!1})))}i.some((function(t){return t.checked}))||0===i.length||(i[0].checked=!0);var c={};if(0!==i.length&&Object.assign(c,{modelList:i}),r&&Object.assign(c,{landingPageSwitch:r}),a.modelName===g.DEEP_SEEK_MODEL_ID){var l=localStorage.getItem(y)||"{}";try{var u,d=JSON.parse(l);a=I({},a,{modelFunction:{internetSearch:"1"===(null==d||null==(u=d.modelFunction)?void 0:u.internetSearch)?"1":"0"}})}catch(t){}}return a.modelName&&Object.assign(c,{usedModel:a}),c}(r.initModelInfo,a.modelList||[]),s=function(t,e){var n=t.usableModel,a=void 0===n?[]:n,i=t.dsDegradeType,r=void 0===i?"":i,o=e.usedModel;return"pc"===x()&&((null==a?void 0:a.length)>0?a.forEach((function(t){var e,n=null==t||null==(e=t.modelFunction)?void 0:e.internetSearch;if(r?"force"===r?(t.modelChecked=!1,o={}):"normal"===r&&(o=JSON.parse(localStorage.getItem(y))||{},t.modelChecked=0!==Object.keys(o).length,o=t.modelChecked?o:{}):(t.modelChecked=!0,o={modelName:"DeepSeek-R1",modelFunction:{internetSearch:"1"}}),"1"===n){var a,i=JSON.stringify(o),s=null==o||null==(a=o.modelFunction)?void 0:a.internetSearch;i.length>0&&(null==o?void 0:o.modelName)&&(o=N({},o,{modelFunction:{internetSearch:"1"===s?"1":"0"}})),t.internetChecked="1"===s}else null==o||delete o.modelFunction})):o={},localStorage.setItem(y,JSON.stringify(o))),{usedModel:o,usableModel:a}}(a,r),c=s.usedModel,u=s.usableModel,p="pc"!==x()&&(window.location.pathname===v.CHAT.path||S()||W(a.sample,"WISE_NEW_CSAITAB","1")),f="pc"!==x()&&q(a.sample,"SINGLE_LINE_OVERVIEW");return{syncSearchParams:n,guideWord:"",agentList:[],firstRankQuery:r.query,chatSearchAcitonId:r.chatSearchAcitonId||"",oriLid:r.oriLid||"",apagelid:r.apagelid||"",sgeLid:r.sgeLid||"",askType:r.askType||"",connectPreQuery:r.connectPreQuery||"",searchframeLid:p||"pc"===x()?a.lid||Date.now():null==a||null==(t=a.searchframeParams)?void 0:t.lid,chatSearch:a.chatSearch,chatParams:a.chatParams||{},preChatParms:{},sa:r.sa||"",oriSa:r.sa||"",pn:0,isShowHello:+r.isShowHello||0,helloInfo:r.helloInfo||{},isHistoryLoading:!1,enterType:r.enterType||"",pcEnterType:r.pcEnterType||"",initShowHistory:r.initShowHistory||!1,conversationLogId:r.conversationLogId,clientHeaders:r.clientHeaders||{},triggerType:r.triggerType||d.CONVERSATION,appUrlParams:{},shareId:r.shareId||"",lid:"",rank:0,topRank:1,query:r.query||"",qaPairIdDiff:0,agentInfo:r.agentInfo||{},agentRank:0,agentSessionCount:0,agentSa:"bkb_agent",preQuery:"",showScrollToBottomBtn:!1,lastReciveEventTime:r.lastReciveEventTime,naInjectTime:r.naInjectTime,iosSlipPrefetchEnable:r.iosSlipPrefetchEnable,startTimeList:r.startTimeList,aitab_ct:r.aitab_ct,actiontype:r.actiontype,imageQuery:{},imageQueryLid:{},token:a.token||(null==(e=a.searchframeParams)?void 0:e.token)||"",pcClickInfo:{},searchParams:i,csextdata:r.csextdata,prefetchUrl:[],tplname:r.tplname||"",srcid:r.srcid||"",order:r.order||"",upperSearchbox:r.upperSearchbox,openInputPanel:r.openInputPanel,hideTopAgentList:!1,chatStatus:"",generateStatus:"",curRankInfo:{rank:0},subEnterType:r.subEnterType||"",subSession:{entrance:r.subEnterType||"",oriLid:"",reRank:0},blockCmptList:{},truncQueryIndexRange:[],phoneParams:a.phoneParams||{},syncTabData:!1,pulldownDisabled:!1,pageType:r.pageType||"",firstRankHideQuery:!1,showMindMap:!1,messageReadStyle:r.messageReadStyle,urlInfo:a.urlInfo,singleOverviewType:f||"",pluginPromptType:0,usedModel:S()?{modelName:"DeepSeek-R1"}:o.usedModel||c,usableModel:u,modelList:o.modelList||[],landingPageSwitch:o.landingPageSwitch||"",chatPageInitialized:!1}}function U(){var t="";window.page&&window.page.amd&&window.page.amd.version&&(t=window.page.amd.version.searchUi);var e=C('script[name="aiTabFrameBaseData"]')||{},n=j({searchParams:l(new URL(location.href).searchParams),user:Object.assign(e.user||{},e.userInfo||{})}),a="pc"!==x()&&(window.location.pathname===v.CHAT.path||W(e.sample,"WISE_NEW_CSAITAB","1"));return!a&&function(t){if("pc"!==x()){var e=new window.URL(window.location.href),n=new URLSearchParams(e.search);t.forEach((function(t){return n.delete(t)}));var a=e.origin+e.pathname+"?"+n.toString();window.history.replaceState({},document.title,a)}}(m),{user:n.user||{},sample:e.sample,isWiseNewCsaitab:a,tabData:{lid:e.lid,data:e.tabList,showTabCount:e.showTabCount,showTagCount:e.showTagCount||4,hasSearchTag:e.hasSearchTag||!1,logUrl:"https://m.baidu.com/tc?",logParams:e.logParams||{}},sid:n.sid,tabName:n.tabName||"",tabList:e.tabList,cosmicVersion:e.cosmicVersion,scVersion:e.scVersion,searchUiVersion:t||"",openLeftAgent:n.openLeftAgent||0,queryIndustry:"",queryIntent:"",urlInfo:e.urlInfo}}!function(t){t.FORCE="force",t.NORMAL="normal"}(E||(E={}));var F=new i.Store({initData:N({},B(),U()),actions:{update:function(t){for(var e,n=c.builder(),a=R(Object.keys(t));!(e=a()).done;){var i=e.value;n=n.set(i,t[i])}return n},resetChatPageStore:function(){for(var t,e=B(),n=c.builder(),a=R(Object.keys(e));!(t=a()).done;){var i=t.value;n=void 0===e[i]?n.omit(i):n.set(i,e[i])}return n}}}),H={exports:{}};function M(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":r(t)}H.exports=function(){function t(e){return(t="function"==typeof Symbol&&"symbol"==M(Symbol.iterator)?function(t){return void 0===t?"undefined":M(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":M(t)})(e)}function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function a(t){for(var a=1;a<Array.from(arguments).length;a++){var i=null!=Array.from(arguments)[a]?Array.from(arguments)[a]:{};a%2?n(Object(i),!0).forEach((function(n){e(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function i(t,e){if(null==t)return{};var n,a,i=function(t,e){if(null==t)return{};var n,a,i={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var s=/^(?:(\w+)\.)?(?:(\w+)\.)?(\w+)$/;function c(t){var e=s.exec(t[0]);if(null==e||4!==e.length)throw"UBC SDK error inputs";if(this.trackerName=e[1]||"t0",this.pluginName=e[2]||"",this.methodName=e[3],this.fields=[].slice.call(t,1),this.isCreateCommand="init"===this.methodName,this.isConfigCommand="config"===this.methodName,this.isEventCommand="event"===this.methodName||"pv"===this.methodName,this.isTimingCommand="timing"===this.methodName,!this.methodName)throw"UBC SDK methodName can not be empty!";if(this.isCreateCommand&&!this.fields[0])throw"UBC SDK serverId can not be empty!"}var l=window.navigator.userAgent,u=/ (lite|info) baiduboxapp\//i.test(l),d=/ mission baiduboxapp\//i.test(l),p=/ baiduboxapp\//i.test(l)&&!u&&!d,f=function(e,n){if(!Array.isArray(e)||!Array.isArray(n))return{};for(var a={},i=Math.min(e.length+1,n.length),r=0;r<i;r++)if("object"===t(n[r]))for(var o in a[e[r]]={},n[r])n[r].hasOwnProperty(o)&&(a[e[r]][o]=n[r][o]);else r<e.length&&(a[e[r]]=n[r]);return a};function h(t){var e=Array.from(arguments).length>1&&void 0!==Array.from(arguments)[1]?Array.from(arguments)[1]:window.location.href,n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i");if(e.split("?")[1]){var a=e.split("?")[1].match(n);return null!=a?decodeURIComponent(a[2]):null}return null}function m(){var e=Array.from(arguments).length>0&&void 0!==Array.from(arguments)[0]?Array.from(arguments)[0]:{};if(!e)return"";var n="";for(var a in e)if(e.hasOwnProperty(a)){var i=e[a];null==i?i="":"object"===t(i)&&(i=JSON.stringify(i)),n+="&"+encodeURIComponent(a)+"="+encodeURIComponent(i)}return n.slice(1)}function g(){var t=Array.from(arguments).length>0&&void 0!==Array.from(arguments)[0]?Array.from(arguments)[0]:"",e=Array.from(arguments).length>1&&void 0!==Array.from(arguments)[1]?Array.from(arguments)[1]:{};return t+(~t.indexOf("?")?"&":"?")+m(e)}function y(e){var n=t(e);return"function"===n||!!e&&"object"===n}function v(t){return!0===t||!1===t}function b(){}function _(t,e){try{if("function"==typeof t.find)return t.find(e);for(var n=0;n<t.length;n++)if(e(t[n],n,t))return t[n]}catch(t){}}var w={cmdQueue:[],init:function(){w.cmdQueue=[]},run:function(t){var e=t.map((function(t){return w.toCommands.apply(w,[t])})),n=w.cmdQueue.concat(e);for(w.cmdQueue=[];n.length>0;)w.runCommand.apply(this,[n[0]])&&w.cmdQueue.push(n[0]),n.shift()},toCommands:function(t){return new c(t)},runCommand:function(t){if(t.isCreateCommand)this.create.apply(this,[t.trackerName].concat(r(t.fields)));else if(t.isConfigCommand){var e=this.getByName(t.trackerName);if(!e)throw"不存在"+t.trackerName+"实例";var n=t.fields[0];for(var a in n)n.hasOwnProperty(a)&&(y(n[a])?e.set(a,Object.assign({},e.get(a),n[a])):e.set(a,n[a]))}else if(t.isEventCommand){var i=this.getByName(t.trackerName);if(!i)throw"不存在"+t.trackerName+"实例";i.send.call(i,{type:"event",fields:t.fields})}else if(t.isTimingCommand){var o=this.getByName(t.trackerName);if(!o)throw"不存在"+t.trackerName+"实例";var s=t.fields[0],c=[].slice.call(t.fields,1);"start"===s?o.regestTimingReportor(c):"end"===s&&o.endTimingReportor(c)}}};w.init();var x={http:"http://mbd.baidu.com/tcbox?action=pblog",https:"https://mbd.baidu.com/tcbox?action=pblog"}["https:"===document.location.protocol?"https":"http"];function S(t,e,n,a){var i=function(t){var e=document.createElement("img");return e.width=1,e.height=1,e.src=t,e}(t=g(t,{data:e})),r=!1;setTimeout((function(){n&&!r&&(n(a),r=!0)}),100),i.onload=i.onerror=function(){i=null,n&&!r&&(n(a),r=!0)}}function k(t,e,n,a){t=g(t,{data:e}),window.navigator.sendBeacon(t),n(a)}function O(t,e){var n=Array.from(arguments).length>2&&void 0!==Array.from(arguments)[2]?Array.from(arguments)[2]:b,a=Array.from(arguments).length>3&&void 0!==Array.from(arguments)[3]?Array.from(arguments)[3]:0,i=Array.from(arguments).length>4?Array.from(arguments)[4]:void 0;return"function"==typeof window.navigator.sendBeacon&&(i.model.useSendBeacon&&0===a||1===a)?k(t,e,n,i):S(t,e,n,i)}var T,I,E=[{appname:"baiduboxmission",reg:/\bmission\sbaiduboxapp\b/i,appid:"10006"},{appname:"baiduboxlite",reg:/\b(?:lite|info) baiduboxapp\b/i,appid:"10001"},{appname:"baiduboxapp",reg:/\bbaiduboxapp\b/i,appid:"1"},{appname:"tieba",reg:/\btieba\b/i,appid:"11001"},{appname:"haokan",reg:/\bhaokan\b/i,appid:"11000"},{appname:"quanmin",reg:/\bbdminivideo\b/i,appid:"12022"},{appname:"bdmap",reg:/\bbaidumap_/i,appid:"11006"},{appname:"wangpan",reg:/\bnetdisk;/i,appid:"12018"},{appname:"askmybaby",reg:/\bmybaby\//i,appid:"12019"},{appname:"xifan",reg:/\bbdxifan\//i,appid:"12006"},{appid:"12031",appname:"sowhat"},{appid:"12010",appname:"lemon",reg:/lemonapp/i},{appid:"12015",appname:"baijiahao"},{appid:"12012",appname:"fanle"},{appid:"12013",appname:"zhaocaimao"},{appid:"12014",appname:"gamenow"},{appid:"12016",appname:"iqiyi"},{appid:"12017",appname:"baike"},{appid:"12023",appname:"flow"},{appid:"12026",appname:"dutaxi"},{appid:"12011",appname:"youjia"},{appid:"12020",appname:"feedsunion"},{appid:"12021",appname:"album"},{appid:"12024",appname:"webgame"},{appid:"12027",appname:"hmi_passenger"},{appid:"12028",appname:"bdwenku"},{appid:"12029",appname:"fanyi"},{appid:"12030",appname:"iknow"},{appid:"12025",appname:"duxiaoxiao"},{appid:"12032",appname:"baiduhanyu"},{appid:"12034",appname:"exp"},{appid:"12036",appname:"demo"},{appid:"12037",appname:"baiduyuedu"},{appid:"12038",appname:"cdm"},{appid:"12040",appname:"weiba"},{appid:"12041",appname:"baiduboxvision"},{appid:"12042",appname:"hiphop"},{appid:"12043",appname:"robobus-panel"},{appid:"12044",appname:"wenkustudent"},{appid:"12045",appname:"pc_live"},{appid:"12049",appname:"yunshangbaidu"},{appid:"12050",appname:"baiduwenku_pc"},{appid:"12051",appname:"yinci"},{appid:"12052",appname:"novel"},{appid:"12054",appname:"yoopu"},{appid:"12057",appname:"yinbo"},{appid:"12062",appname:"aiqicha"},{appid:"12066",appname:"Bamboo_Health"},{appid:"12067",appname:"Bamboo_Health_Dr"},{appid:"12073",appname:"superduer"},{appid:"12074",appname:"baidujiankangapp"},{appid:"12075",appname:"bdcrm_aifanfan"},{appid:"12077",appname:"muzhidoctor"},{appid:"12079",appname:"apollogo"},{appid:"12080",appname:"lvlin"},{appid:"12083",appname:"aipurchase"},{appid:"12088",appname:"BaiDuCarLife"},{appid:"12090",appname:"baidujiankangtt"},{appid:"12092",appname:"infoflow",reg:/\bbaiduhi/i},{appid:"12094",appname:"hmi_driver"},{appid:"12095",appname:"vr_expo"},{appid:"12096",appname:"content_ecommerce"},{appid:"12097",appname:"play_control"},{appid:"12098",appname:"aipurchaser"},{appid:"12101",appname:"ditutaojin"},{appid:"12102",appname:"hp_location"},{appid:"12106",appname:"chatroom"},{appid:"12107",appname:"gaia"},{appid:"12108",appname:"ubi"},{appid:"12109",appname:"yiju"},{appid:"12111",appname:"bml"},{appid:"12112",appname:"aihome"},{appid:"12113",appname:"aihome_children"},{appid:"12114",appname:"mobsecurity"},{appid:"12117",appname:"tomas"},{appid:"12118",appname:"baidu_flutter"},{appid:"12120",appname:"wepod"},{appid:"12121",appname:"yy"},{appid:"12122",appname:"kidedu"},{appid:"12123",appname:"wangpan_faster"},{appid:"12124",appname:"wepod_mobile"},{appid:"12125",appname:"baidu_vr_classroom_launcher"},{appid:"12192",appname:"searchcraft",reg:/\bSearchCraft\b/i}],P=["type","value","ext"];function A(t){this.model={},function(t,e){t.trackerName=e.trackerName,t.trackerId=e.trackerId||"",t.timingId=e.config&&e.config.timingId||"",t.useSendBeacon=e.config&&e.config.useSendBeacon||!1,t.version=e.config&&e.config.version||"1.0",e.config&&v(e.config.ifHeartbeatTime)?t.ifHeartbeatTime=e.config.ifHeartbeatTime:t.ifHeartbeatTime=!0,e.config&&v(e.config.testMode)?t.testMode=e.config.testMode:t.testMode=!1,t.testUrl=e.config&&e.config.testUrl||"",e.config&&v(e.config.autoPvTrack)?t.autoPvTrack=e.config.autoPvTrack:t.autoPvTrack=!1,e.config&&v(e.config.autoTimingTrack)?t.autoTimingTrack=e.config.autoTimingTrack:t.autoTimingTrack=!1,t.queryParams=e.config&&e.config.queryParams||{},t.version&&(t.queryParams.v=t.version,t.queryParams.appname=t.queryParams.appname||"baiduboxapp"),t.appid=e.config&&e.config.appid||"1",t.cateid=e.config&&e.config.cateid||"99",t.actiontype=e.config&&e.config.actiontype||"0",t.from=e.config&&e.config.from||"act",t.duration=e.config&&e.config.duration||3,t.source=e.config&&e.config.source||"",t.inBox=p?"1":"0",t.abtest=e.config&&e.config.abtest||"",t.network=e.config&&e.config.network||"",t.page=e.config&&e.config.page||"",t.baiduTongJiId=e.config&&e.config.baiduTongJiId,t.isBaiduTongJi=!(!e.config||!e.config.baiduTongJiId),t.timingTasks=[],t.apptype=function(){var t=Array.from(arguments).length>0&&void 0!==Array.from(arguments)[0]?Array.from(arguments)[0]:"",e={appname:"other",appid:"12133"};if(t)return _(E,(function(e){return t===e.appname}))||e;var n,a=(null===(n=navigator)||void 0===n?void 0:n.userAgent)||"";return _(E,(function(t){return t.reg?t.reg.test(a):-1!==a.search(t.appname)}))||e}().appid}(this.model,t),this.get("isBaiduTongJi")&&(window._hmt=window._hmt||[],function(t){if(t){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=t;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}}("https://hm.baidu.com/hm.js?"+this.get("baiduTongJiId"))),this.get("autoPvTrack")&&this.send({type:"event",fields:["pageAutoPv"]}),this.get("autoTimingTrack")&&this.regestTimingReportor(["pageAutoTiming"])}A.prototype.set=function(t,e){this.model[t]=e},A.prototype.get=function(t){return this.model[t]},A.prototype.send=function(t){var e,n,r,o=t.type,s=t.fields,c=0;if("event"===o){if(s&&y(s[0])?(r=s[0],function(t){return"function"==typeof t}(s[1])&&(e=s[1])):r=f(P,s),n=function(t,e){var n={cateid:t.cateid,actiondata:{id:t.trackerId,type:"0",timestamp:Date.now(),content:a(a({page:t.page||window.location.hostname+window.location.pathname,source:t.source||h("idfrom")||"",from:t.from},e),{},{ext:a({apptype:t.apptype},e.ext)})}};return"1.0"===t.version&&(n.actiondata.abtest=t.abtest,n.actiondata.inBox=t.inBox,n.actiondata.network=t.network,n.appid=t.appid,n.actiontype=t.actiontype),n}(this.model,r),r.useSendBeacon&&(c=r.useSendBeacon),this.get("isBaiduTongJi")){var l=n.actiondata.content||{},u=l.page,d=l.type,p=l.value;window._hmt.push(["_trackEvent",u,d,p])}}else"timing"===o&&(n=function(t,e){var n=e.starttime,r=e.ext,o=i(e,["starttime","ext"]),s={cateid:t.cateid,actiondata:{id:t.timingId,type:"1",timestamp:Date.now(),starttime:n,content:{duration:t.duration,option:a(a({page:t.page||window.location.hostname+window.location.pathname,source:t.source||h("idfrom")||"",from:t.from},o),{},{ext:a({apptype:t.apptype},r)})}}};return t.ifHeartbeatTime||(s.actiondata.endtime=Date.now(),s.actiondata.content.duration=(s.actiondata.endtime-s.actiondata.starttime)/1e3),"1.0"===t.version&&(s.actiondata.abtest=t.abtest,s.actiondata.inBox=t.inBox,s.actiondata.network=t.network,s.appid=t.appid,s.actiontype=t.actiontype),s}(this.model,s));var m=this.get("testMode")?"http://bjyz-mco-searchbox201609-m12xi3-044.bjyz.baidu.com:8080/tcbox?action=pblog":x;"2.0"===this.model.version&&(m=this.get("testMode")?"http://bjyz-mco-searchbox201609-m12xi3-044.bjyz.baidu.com:8080/ztbox?action=zpblog":"https://mbd.baidu.com/ztbox?action=zpblog",m=g(m=this.model.testUrl||m,this.model.queryParams)),O.apply(this,[m,n,e,c,this])},A.prototype.regestTimingReportor=function(){var t=this,e=Array.from(arguments).length>0&&void 0!==Array.from(arguments)[0]?Array.from(arguments)[0]:[];if(!this.get("timingId"))throw"timing ID is required!";var n=this.get("timingTasks"),i=this.get("duration"),r=this.get("ifHeartbeatTime"),o={};o=e&&y(e[1])?a({type:e[0]},e[1]):f(P,e);var s=_(n,(function(t){return t.eventName===e[0]}));if(o.starttime=Date.now(),!s){var c=0;r&&(this.send({type:"timing",fields:o}),c=setInterval((function(){t.send({type:"timing",fields:o})}),1e3*i)),n.push({timingIntevalId:c,isReporting:!0,eventName:e[0],fields:o})}},A.prototype.stopAllTimingReportor=function(){var t=this;this.get("timingTasks").forEach((function(e){t.send({type:"timing",fields:e.fields}),e.isReporting=!1,clearInterval(e.timingIntevalId)}))},A.prototype.startAllTimingReportor=function(){var t=this,e=this.get("timingTasks"),n=this.get("duration"),a=this.get("ifHeartbeatTime");e.forEach((function(e){e.isReporting||(e.isReporting=!0,e.fields.starttime=Date.now(),a&&(t.send({type:"timing",fields:e.fields}),e.timingIntevalId=setInterval((function(){t.send({type:"timing",fields:e.fields})}),1e3*n)))}))},A.prototype.endTimingReportor=function(t){var e=this,n={};t&&y(t[1])&&(n=t[1]);var i=this.get("timingTasks"),r=[];i.forEach((function(i){var o=i.timingIntevalId;i.eventName===t[0]?(e.send({type:"timing",fields:a(a({},i.fields),n)}),clearInterval(o)):r.push(i),e.set("timingTasks",r)}))},A.prototype.removeAllTimingReportor=function(){var t=this,e=this.get("timingTasks");e.forEach((function(e){t.send({type:"timing",fields:e.fields}),clearInterval(e.timingIntevalId)})),e=[]},void 0!==document.hidden?(T="hidden",I="visibilitychange"):void 0!==document.msHidden?(T="msHidden",I="msvisibilitychange"):(void 0!==document.webkitHidden||void 0!==document.baiduboxappvisibilitychange)&&(T="webkitHidden",I="webkitvisibilitychange");var D=[],L={},j=["trackerName","trackerId","config"];function C(){for(var t=Array.from(arguments).length,e=new Array(t),n=0;n<t;n++)e[n]=Array.from(arguments)[n];w.run.call(window.ubc,[e])}return C.create=function(){for(var t=Array.from(arguments).length,e=new Array(t),n=0;n<t;n++)e[n]=Array.from(arguments)[n];var a=f(j,[].slice.call(e)),i=a.trackerName;if(L[i])return L[i];var r=new A(a);return L[i]=r,D.push(r),r},C.remove=function(t){for(var e=D.length,n=0;n<e;n++)if(D[n][t]===t){D.splice(n,1),L[t]=null;break}},C.main=function(){var t=window.ubc,e=t&&t.q;t&&"function"==typeof t.getAll&&(C=window.ubc),Array.isArray(e)&&(w.run.apply(C,[e]),t.q=[]),C.startTime=t&&t.l||1*new Date,C.loaded=!0,window.ubc=C},C.getByName=function(t){return L[t]},C.getAll=function(){return D.slice()},C.main(),function(t){void 0!==document.addEventListener&&void 0!==T&&document.addEventListener(I,(function(){t.getAll().forEach((function(t){var e=t.get("timingTasks");Array.isArray(e)&&(document[T]?t.stopAllTimingReportor():t.startAllTimingReportor())}))}),!1)}(C),C}();var z=e(H.exports);function J(){return J=Object.assign||function(t){for(var e=1;e<Array.from(arguments).length;e++){var n=Array.from(arguments)[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},J.apply(this,Array.from(arguments))}var G={eventType:{type:"sendCommand"}},Q={eventType:{type:"notifyStateEvent"}},K={from:"chatjs",to:"chatjs"};function V(){return V=Object.assign||function(t){for(var e=1;e<Array.from(arguments).length;e++){var n=Array.from(arguments)[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},V.apply(this,Array.from(arguments))}J({name:"half-screen-closed",from:"na"},G),J({name:"half-screen-opened",from:"na"},G),J({name:"image-guidance-showed",from:"na"},G),J({name:"input-start",from:"na"},G),J({name:"delete-agent",from:"na"},G),J({name:"search",from:"na"},G),J({name:"back-firstpage",from:"na"},G),J({name:"input-cancel",from:"na"},G),J({name:"send-avatar",from:"na"},G),J({name:"delete-tag",from:"na"},G),J({name:"submit-tag",from:"na"},G),J({name:"scan-image",from:"na"},G),J({name:"chat-recommend-update",from:"na"},G),J({name:"login-status",from:"na"},G),J({name:"execute-h5-function",from:"na"},G),J({name:"search-prerender-confirm",from:"na"},G),J({name:"voice-panel-status",from:"na"},G),J({name:"make-ai-call",from:"na"},G),J({name:"stop-sync-tab-data",from:"na"},G),J({name:"guidewords-req-intercept",from:"na"},G),J({name:"check-ready",from:"na"},G),J({name:"open-half-screen",to:"na"},Q),J({name:"close-half-screen",to:"na"},Q),J({name:"show-image-guidance",to:"na"},Q),J({name:"send-input-config",to:"na"},Q),J({name:"ready",to:"na"},Q),J({name:"sidebar-infoupdate",to:"na"},Q),J({name:"complete",to:"na"},Q),J({name:"result-log",to:"na"},Q),J({name:"click-log",to:"na"},Q),J({name:"launch-search",to:"na"},Q),J({name:"open-input",to:"na"},Q),J({name:"close-input",to:"na"},Q),J({name:"upper-searchbox",to:"na"},Q),J({name:"open-camera",to:"na"},Q),J({name:"updata-tag",to:"na"},Q),J({name:"show-image-edit",to:"na"},Q),J({name:"chat-search-page-ready"},K),J({name:"chat-search-recommend-tpl-update"},K),J({name:"get-generate-card-sign"},K),J({name:"remove-fold"},K),J({name:"export-file",to:"na"},Q),J({name:"update-searchtips",to:"na"},Q),J({name:"update-generate-info",to:"na"},Q),J({name:"generate-start",to:"na"},Q),J({name:"generate-complete",to:"na"},Q),J({name:"error-occur",to:"na"},Q),J({name:"abort-process",to:"na"},Q),J({name:"loading",to:"na"},Q),J({name:"load-complete",to:"na"},Q),J({name:"click-download",to:"na"},Q),J({name:"multichat-pagestatus",to:"na"},Q),J({name:"search"},K),J({name:"load-slide-toast"},K,{strick:!0}),J({name:"show-guide-card"},K,{strick:!0}),J({name:"card-typing-complete"},K),J({name:"card-content-finished"},K),J({name:"ask-data-interflow",sticky:!0},K),J({name:"operate-capsule-data-interflow"},K),J({name:"show-feedback-form-card"},K),J({name:"receive-first-chunk",to:"na"},Q),J({name:"hit-danger"},K),J({name:"feedback-pop"},K),J({name:"stop-conversation"},K),J({name:"agent-change"},K),J({name:"caosule-show"},K),J({name:"open-half-screen-by-uijson"},K),J({name:"update-image-query"},K),J({name:"retry-generate"},K),J({name:"filler-emtpy-height"},K),J({name:"regenerate"},K),J({name:"ask-data-send"},K),J({name:"agent-tel-hide"},K),J({name:"adult-check-hide"},K),J({name:"async-bub-click"},K),J({name:"dialog-pop"},K),J({name:"dialog-click"},K),J({name:"upper-searchbox"},K),J({name:"execute-h5-function"},K),J({name:"delete-agent"},K),J({name:"stop-bottom-align"},K),J({name:"open-full-editor",to:"na"},Q),J({name:"update-input-border",to:"na"},Q),J({name:"ready-reply",to:"na"},Q),J({name:"checkout-ai-model",to:"na"},Q),new URL(document.URL).searchParams.get("chatsearch_action_id");var X=S();function Y(t,e){var n=t.ubcId||"17132",a={page:t.page||"resultpage",from:"search",version:"2.0",useSendBeacon:!0,queryParams:{appname:F.getState("isSearchCraft")?"searchcraft":"pc"===x()?"pcsearch":"baiduboxapp"}},i=t.curLid,r=t.type,o=t.value,s=t.source,c=t.clk_result,l=t.info,u=t.page,d=t.ext,p={};e&&(p={query:e.query,qid:e.lid,tplname:e.tplname,srcid:e.srcid,order:e.order,sessionid:"lid["+(null==e?void 0:e.lid)+"]_si["+(null==e?void 0:e.srcid)+"]"});var f=V({},d,{clk_result:c,info:l,browser:"pc"===x()?"pc":"baiduboxapp"},p,{is_plugin:0},X&&{deepseek:1});"more"===t.value&&"click"===t.type&&(f.result_num=t.resultNum||0),"fold"===t.value&&(f.fold_result=t.fold),F.getState("chatParams")&&F.getState("chatParams").setype&&(f.setype=F.getState("chatParams").setype,f.lid=i||f.lid),f.query&&(f.query=function(t){var e=t;if(Array.isArray(t)){var n="";t.forEach((function(t){var e=t.data;"TEXT"===t.type&&(n+=e.text.query)})),e=n}return e||""}(f.query)),z(n+".init",n,a),z(n+".config",a),z(n+".event",{ext:f,type:r,value:o,source:s,page:u||"resultpage",useSendBeacon:1})}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function tt(){return tt=Object.assign||function(t){for(var e=1;e<Array.from(arguments).length;e++){var n=Array.from(arguments)[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},tt.apply(this,Array.from(arguments))}function et(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0;return function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var nt=function(){function t(){this.RANK_ANSWER_BOX=".answer-box",this.SHOW_AREA="[data-show-area]",this.SUBPOS_SHOW_EXT="data-show-ext",this.NEED_SHOW_LOG="need-show-log",this.BASE_SHOW_EXT="data-show-log",this.subPosList=[],this.areaDataList=[],this.init()}var e=t.prototype;return e.addEle=function(t){var e=this;(t&&t.dom?this.getSubPosList([t.dom]):this.getSubPosList(this.areaDataList)).forEach((function(t){var n;t.dom.dataset.observered?e.subPosList=e.subPosList.map((function(e){return e.dom===t.dom?t:e})):(null==(n=e.subPosObserver)||n.observe(t.dom),t.dom.dataset.observered=!0,e.subPosList.push(t))}));for(var n=0;n<this.subPosList.length;n++){var a=this.subPosList[n].dom;a&&a.closest("body")||this.subPosList.splice(n,1)}},e.init=function(){var t=this;this.startSubPosObserver(),window.addEventListener("unload",(function(){return t.destroy()})),this.updateListenDom()},e.updateListenDom=function(){var t=this;new MutationObserver((function(e){for(var n,a=et(e);!(n=a()).done;){var i=n.value;i.addedNodes&&i.addedNodes.length>0&&1===i.addedNodes[0].nodeType&&i.addedNodes[0].hasAttribute("data-show-area")&&(!i.addedNodes[0].hasAttribute(t.NEED_SHOW_LOG)||"true"===i.addedNodes[0].getAttribute(t.NEED_SHOW_LOG))&&(t.areaDataList.push(i.addedNodes[0]),t.addEle({dom:i.addedNodes[0]}))}})).observe(document.body,{childList:!0,subtree:!0})},e.destroy=function(){this.subPosObserver&&this.subPosObserver.disconnect()},e.forceTrigger=function(t){this.subPosObserver.unobserve(t),this.subPosObserver.observe(t)},e.startSubPosObserver=function(){var t=this;this.subPosObserver=new IntersectionObserver((function(e){e.forEach((function(e){e.intersectionRatio>=.6&&t.subPosList.forEach((function(t){if(t.dom===e.target){var n=t.ubcId,a=t.page,i=t.source;Y(tt({type:"show",value:t.value},n?{ubcId:n}:{},a?{page:a}:{},i?{source:i}:{},{ext:tt({},t,{valueInfo:Array.isArray(t.valueInfo)?t.valueInfo:[t.valueInfo],agent_id:t.agentId,agent_name:t.agentName,guide_word_type:t.guideWordType})}))}}))}))}),{threshold:[.4,.6]})},e.getAreaDataList=function(){return document.querySelectorAll(this.SHOW_AREA)},e.getSubPosList=function(t){var e=this,n=[];return t.forEach((function(t){var a,i=null==t||null==(a=t.parentNode)?void 0:a.querySelectorAll("["+e.SUBPOS_SHOW_EXT+"]");i&&i.length&&i.forEach((function(t){var a=e.getSubPosInfo(t);(a=A(a)).value&&n.push(tt({dom:t},a))}))})),n},e.getSubPosInfo=function(t){if(!t)return{};var e={},n=null,a=null,i=void 0,r=void 0,o=void 0;try{var s=t.getAttribute(this.SUBPOS_SHOW_EXT);n=JSON.parse(s);var c=t.closest("["+this.BASE_SHOW_EXT+"]");if(c){var l=c.getAttribute(this.BASE_SHOW_EXT);a=l&&JSON.parse(l)}}catch(t){n=null}return n&&(e=n.component_content||{},i=n.agent_id||(null==a?void 0:a.agent_id),r=n.agent_name||(null==a?void 0:a.agent_name),o=n.guide_word_type),tt({valueInfo:e,agentId:i,agentName:r,guideWordType:o,ori_lid:F.getState("oriLid"),lid:F.getState("lid"),re_rank:String(F.getState("rank")),a_lid:F.getState("apagelid")},a,n)},e.updateTransDom=function(){var t=this;document.querySelectorAll("[data-show-area]").forEach((function(e){t.areaDataList.includes(e)||e.hasAttribute(t.NEED_SHOW_LOG)&&"true"!==e.getAttribute(t.NEED_SHOW_LOG)||(t.areaDataList.push(e),t.addEle({dom:e}))}))},e.deleteTransDom=function(t){this.areaDataList.includes(t)&&(this.areaDataList=this.areaDataList.filter((function(e){return e!==t})),this.subPosList=this.subPosList.filter((function(e){return e.dom!==t})),t.dataset.observered="",this.subPosObserver.unobserve(t))},t}(),at=new nt;function it(){at.updateTransDom()}function rt(){return rt=Object.assign||function(t){for(var e=1;e<Array.from(arguments).length;e++){var n=Array.from(arguments)[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},rt.apply(this,Array.from(arguments))}function ot(t){var e,n,a="baiduboxapp://searchframe/transportDurationParams?params=",i={};Object.keys(t).forEach((function(e){t[e]&&(i[e]=t[e])})),a+=encodeURIComponent(JSON.stringify({extClickParams:i})),e=a,(n=document.createElement("iframe")).style.display="none",n.src=e,document.body.appendChild(n),setTimeout((function(){document.body.removeChild(n),n=null}),200)}function st(t,e){var n=t,a=function(t,e){var n=e||document.body,a=t.closest("a");if(a&&a.getAttribute("href"))return a;var i=null,r=t;for(;r&&r!==n;){var o=r.hasAttribute("rl-node"),s=r.getAttribute("rl-type"),c=r.getAttribute("rl-link-href");if("stop"===s||"button"===s)break;if(o&&c){i=r;break}r=r.parentNode}return i}(t);if(!a||!a.classList.contains("WA_LOG_XCX")){var i={t:Date.now(),vd_cyc:"0"},r=function(t,e,n){void 0===n&&(n=150);e=e||document.documentElement;var a=[];for(;t&&t!==e;){var i=ct(t),r=t.getAttribute("data-module");a.push(t.nodeName.toLowerCase()+(i>0?i+1:"")+(r?"("+r+")":"")),t=t.parentNode}return a.reverse().join("-").slice(0,n)}(t,n,150);r&&-1!==r.indexOf("vd-cyc")&&(i.vd_cyc="1"),ot(rt({},function(t){var e={};for(;t&&t!==document.body;){var n=t.getAttribute("data-time-log");if(n)try{e=Object.assign(JSON.parse(n),e)}catch(t){console.error(t)}t=t.parentNode}return e}(t),i,e||{}))}}function ct(t){for(var e=0,n=t.previousSibling;n;)n.tagName===t.tagName&&e++,n=n.previousSibling;return e}function lt(){return lt=Object.assign||function(t){for(var e=1;e<Array.from(arguments).length;e++){var n=Array.from(arguments)[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},lt.apply(this,Array.from(arguments))}var ut,dt,pt={},ft=!1,ht="https://m.baidu.com/tc?";function mt(t){return"[object Object]"===Object.prototype.toString.call(t)}function gt(t,e){var n={};n=mt(t.clk_info)&&mt(e.clk_info)?Object.assign({},t.clk_info,e.clk_info):t.clk_info||e.clk_info;var a={};a=mt(t.extra)&&mt(e.extra)?Object.assign({},t.extra,e.extra):t.extra||e.extra;var i={};return i=mt(t.ubcExt)&&mt(e.ubcExt)?Object.assign({},t.ubcExt,e.ubcExt):t.ubcExt||e.ubcExt,Object.assign(t,e,{extra:a,clk_info:n,ubcExt:i})}function yt(t){var e,n=function(t,e){if(!t)return!1;for(var n={},a="",i=e,r=[],o=0;t&&t!==document.body;){if("1"===t.getAttribute("data-nolog"))return!1;var s=t.getAttribute("data-click-log");if(s)try{n=gt(JSON.parse(s),n)}catch(t){console.error(t)}t.href&&(a=t.href),t.hasAttribute("need-click-log")&&(i=!0);var c=1;if(t.previousSibling){var l=t.previousSibling;do{1===l.nodeType&&l.tagName===t.tagName&&c++,l=l.previousSibling}while(l)}var u=t.getAttribute("data-module");u=u?"("+u+")":"",r[o++]=t.tagName+(c>1?c:"")+u,t=t.parentNode}if(!i)return!1;"a"===t.tagName.toLowerCase()&&(a=t.href||a);var d=r.reverse().join("-").toLowerCase();return n.clk_info=n.clk_info||{},n.clk_info.xpath=d,n}(t.target,!1);!1!==n&&(gt(n,pt),"pc"===x()||!t.target||1==+n.tcreq4log&&1!=+(null==(e=n.clk_info)?void 0:e.cyc)||st(t.target,{}),function(t){if("pc"===x()){var e=t.ubcId,n=t.page,a=t.type,i=t.source,r=t.value,o=t.ubcExt;Y(lt({ubcId:e||"17132",page:n||"resultpage",type:a||"click"},i?{source:i}:{},{value:r,ext:lt({setype:"csaitab",ori_lid:F.getState("oriLid"),lid:F.getState("lid"),re_rank:String(F.getState("rank")),a_lid:F.getState("apagelid")},o)}))}else{delete t.ubcExt;var s=t.clk_info||{};mt(t.clk_info)&&(t.clk_info=t.clk_info||{},t.clk_info.t=Date.now(),t.clk_info=JSON.stringify(t.clk_info)),mt(t.extra)&&(t.extra=JSON.stringify(t.extra)),s.tplname&&t.order&&(t.ala_clk=[s.tplname,t.order,0,10,"o"].join("_"));var c=[];Object.keys(t).forEach((function(e){c.push(e+"="+encodeURIComponent(t[e]))}));var l=c.join("&"),u=new Image;u.onload=u.onerror=u.onabort=function(){u.onload=u.onerror=u.onabort=null,u=null},u.src=ht+l}}(n))}!function(t){t.OPEN_NEW_AGENT_CONVERSATION="openNewAgentConversation",t.JUMP_TO_TARGET_URL="jumpToTargetUrl"}(ut||(ut={})),function(t){t.LOADED="loaded"}(dt||(dt={}));var vt=function(){function t(t){var e=t.iframeId,n=t.fatherCb;this.iframeId=e,this.fatherCb=n,this.watchIframeStatus()}var e=t.prototype;return e.initMessagePipe=function(){this.channel=new MessageChannel,this.fatherPipe=this.channel.port1,this.childPipe=this.channel.port2,this.fatherPipe.onmessage=this.fatherCb},e.watchIframeStatus=function(){var t=this;window.addEventListener("message",(function(e){var n=(null==e?void 0:e.data)||{},a=n.iframeStatus;if(n.messageName,"loaded"===a)t.sendchildPipe()}))},e.sendchildPipe=function(){try{var t,e=document.getElementById(this.iframeId);this.initMessagePipe(),null==e||null==(t=e.contentWindow)||t.postMessage("父亲页面消息: 将childPipe传递给子页面","*",[this.childPipe])}catch(t){}},t.sendIframeLoadStatus=function(t,e){parent.window.postMessage({messageName:t,iframeStatus:e},"*")},t}(),bt={SQUARE:"https://chat.baidu.com/agent/discovery/square",TAB:"https://chat.baidu.com/agent/discovery/agentlist",SEARCH:"https://chat.baidu.com/agent/discovery/search"},_t={ubcId:"18639",page:"find_agent",source:"ai_assist"};function wt(){return wt=Object.assign||function(t){for(var e=1;e<Array.from(arguments).length;e++){var n=Array.from(arguments)[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},wt.apply(this,Array.from(arguments))}function xt(t,e){return xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},xt(t,e)}var St=function(t){function e(){return t.apply(this,Array.from(arguments))}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xt(t,e)}(e,t);var n=e.prototype;return n.initData=function(){return{excellent:{},createAgentUrl:"https://agents.baidu.com/agent/create",childPipe:{},isShowInput:!1,searchQuery:"",showAnimation:!1,showResult:!1,isHeadFixed:!1,scrollY:0}},n.headFixed=function(){var t=document.documentElement.scrollTop||document.body.scrollTop;this.data.set("scrollY",t),t>59&&this.data.get("showResult")?this.data.set("isHeadFixed",!0):this.data.set("isHeadFixed",!1)},n.logParams=function(){return JSON.stringify(wt({},_t,{value:"create_agent"}))},n.logHeadParams=function(t){return JSON.stringify(wt({},_t,{value:"search_"+t}))},n.toCreateAgent=function(){var t=this.data.get(),e=t.childPipe,n=t.createAgentUrl;null==e||e.postMessage({name:ut.JUMP_TO_TARGET_URL,data:{targetUrl:n}})},n.searchButtonClick=function(){this.data.set("isShowInput",!0),this.data.set("showAnimation",!0)},n.hideSearchInput=function(){this.data.set("isShowInput",!1)},n.clickBack=function(){this.data.set("showResult",!1),this.fire("head-click",this.data.get("showResult"))},n.toSearchResult=function(){var t=this.data.get("searchQuery");if(t){this.data.set("showResult",!0);var e={searchQuery:t,showResult:!0};this.fire("head-click",e)}},n.handleKeyDown=function(t){13===t.keyCode&&(Y(wt({type:"click",value:"search_btn"},_t)),this.toSearchResult())},n.inputContent=function(t){var e;this.data.set("searchQuery",null==t||null==(e=t.target)?void 0:e.value)},n.handleClick=function(t){var e=this.data.get("$style").rightContainer,n=this.el.querySelector("."+e),a=t.target;!n||n.contains(a)||this.data.get("showResult")||(this.hideSearchInput(),this.clearInput())},n.clearInput=function(){this.data.set("searchQuery","")},n.attached=function(){this.handleClick=this.handleClick.bind(this),this.headFixed=this.headFixed.bind(this),document.addEventListener("click",this.handleClick),window.addEventListener("scroll",this.headFixed)},n.detached=function(){document.removeEventListener("click",this.handleClick),window.removeEventListener("scroll",this.headFixed)},e}(t.Component);St.trimWhitespace="all",St.computed={headInfo:function(){var t;return(null==(t=this.data.get("excellent"))?void 0:t.name)||"今日精选"}};var kt={};kt=Object.assign(kt,{headContainer:"head-container_wyqiw_1","head-container":"head-container_wyqiw_1",headFixed:"head-fixed_wyqiw_9","head-fixed":"head-fixed_wyqiw_9",leftContainer:"left-container_wyqiw_19","left-container":"left-container_wyqiw_19",infoText:"info-text_wyqiw_24","info-text":"info-text_wyqiw_24",infoBack:"info-back_wyqiw_30","info-back":"info-back_wyqiw_30",rightContainer:"right-container_wyqiw_43","right-container":"right-container_wyqiw_43",createAgent:"create-agent_wyqiw_107","create-agent":"create-agent_wyqiw_107",addIcon:"add-icon_wyqiw_121","add-icon":"add-icon_wyqiw_121",createText:"create-text_wyqiw_125","create-text":"create-text_wyqiw_125",searchIconContainer:"search-icon-container_wyqiw_138","search-icon-container":"search-icon-container_wyqiw_138",searchIcon:"search-icon_wyqiw_138","search-icon":"search-icon_wyqiw_138",searchIconHide:"search-icon-hide_wyqiw_168","search-icon-hide":"search-icon-hide_wyqiw_168",fadeIn:"fadeIn_wyqiw_1",searchIconShow:"search-icon-show_wyqiw_172","search-icon-show":"search-icon-show_wyqiw_172",fadeOut:"fadeOut_wyqiw_1",inputContent:"input-content_wyqiw_176","input-content":"input-content_wyqiw_176",inputShowAnimation:"input-show-animation_wyqiw_187","input-show-animation":"input-show-animation_wyqiw_187",expandOut:"expandOut_wyqiw_1",inputHideAnimation:"input-hide-animation_wyqiw_191","input-hide-animation":"input-hide-animation_wyqiw_191",shrinkWidth:"shrinkWidth_wyqiw_1",shrinkHeight:"shrinkHeight_wyqiw_1",searchInput:"search-input_wyqiw_195","search-input":"search-input_wyqiw_195",rightInput:"right-input_wyqiw_213","right-input":"right-input_wyqiw_213",clearButton:"clear-button_wyqiw_221","clear-button":"clear-button_wyqiw_221",inputButton:"input-button_wyqiw_230","input-button":"input-button_wyqiw_230",inputButtonColored:"input-button-colored_wyqiw_244","input-button-colored":"input-button-colored_wyqiw_244",inputButtonShow:"input-button-show_wyqiw_254","input-button-show":"input-button-show_wyqiw_254",scaleOut:"scaleOut_wyqiw_1",inputButtonHide:"input-button-hide_wyqiw_258","input-button-hide":"input-button-hide_wyqiw_258",scaleIn:"scaleIn_wyqiw_1"}),St.template='\n    <div class="{{$style[\'head-container\']}} {{isHeadFixed ? $style[\'head-fixed\'] : \'\'}}">\n        <div class="{{$style[\'left-container\']}}">\n            <span class="{{$style[\'info-text\']}}" s-if="!showResult">{{headInfo}}</span>\n            \x3c!-- 增加返回按钮，当进入搜索结果页时展现 --\x3e\n            <span\n                class="cos-icon {{$style[\'info-back\']}}"\n                s-if="showResult"\n                on-click="clickBack"\n                data-click-log="{{logHeadParams(\'return\')}}"\n                need-click-log\n            >&#xe6df;</span>\n        </div>\n        <div class="{{$style[\'right-container\']}}">\n            \x3c!-- 当isShowInput=true时展示搜索输入框 --\x3e\n            \x3c!-- 增加一个showAnimation在首次进页面时隐藏输入框 --\x3e\n            <div class="\n                {{$style[\'input-content\']}}\n                {{isShowInput ? $style[\'input-show-animation\'] : $style[\'input-hide-animation\']}}\n                "\n                s-if="showAnimation"\n            >\n                \x3c!-- 搜索框 --\x3e\n                <input\n                    class="{{$style[\'search-input\']}}"\n                    placeholder="搜索智能体"\n                    on-input="inputContent"\n                    value="{{searchQuery}}"\n                    on-keydown="handleKeyDown"\n                    data-click-log="{{logHeadParams(\'input\')}}"\n                    need-click-log\n                />\n                <div class="{{$style[\'right-input\']}}">\n                    \x3c!-- 清除按钮 --\x3e\n                    <img class="{{$style[\'clear-button\']}}"\n                        s-if="searchQuery"\n                        on-click="clearInput"\n                        src="https://gips0.baidu.com/it/u=1287322630,3348681831&fm=3028&app=3028&f=PNG&fmt=auto&q=100&size=f64_64"\n                    />\n                    \x3c!-- 搜索按钮 --\x3e\n                    <span\n                        class="{{$style[\'input-button\']}}\n                        {{searchQuery ? $style[\'input-button-colored\'] : \'\'}}\n                        {{isShowInput ? $style[\'input-button-show\'] : $style[\'input-button-hide\']}}"\n                        on-click="toSearchResult"\n                        data-click-log="{{logHeadParams(\'btn\')}}"\n                        need-click-log\n                    >搜索</span>\n                </div>\n            </div>\n            <div\n                class="{{$style[\'create-agent\']}}"\n                s-if="!isShowInput"\n                data-click-log="{{logParams()}}"\n                need-click-log\n            >\n                <i class="cos-icon {{$style[\'add-icon\']}}">&#xe6dd;</i>\n                <span class="{{$style[\'create-text\']}}" on-click="toCreateAgent">创建智能体</span>\n            </div>\n            \x3c!-- 增加搜索icon --\x3e\n            <div\n                class="{{$style[\'search-icon\']}} {{isShowInput ? $style[\'search-icon-hide\'] : $style[\'search-icon-show\']}}"\n                on-click="searchButtonClick"\n                data-click-log="{{logHeadParams(\'entrance\')}}"\n                need-click-log\n            >\n                <i class="cos-icon {{$style[\'search-icon\']}}">&#xe714;</i>\n            </div>\n        </div>\n    </div>\n';var Ot,Tt,It="function"==typeof St?St.prototype.initData||Et:St.initData||Et;function Et(){return{$style:kt}}function Pt(){return Object.assign({},It.call(this),{$style:kt})}function At(){return At=Object.assign||function(t){for(var e=1;e<Array.from(arguments).length;e++){var n=Array.from(arguments)[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},At.apply(this,Array.from(arguments))}function Dt(t,e){return Dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Dt(t,e)}"function"==typeof St?St.prototype.initData=Pt:St.initData=Pt,function(t){t.AGENT="agent",t.IMG="img"}(Ot||(Ot={})),function(t){t.LEFT_CLICK="leftClick",t.RIGHT_CLICK="rightClick"}(Tt||(Tt={}));var Lt=function(t){function e(){var e;return(e=t.apply(this,Array.from(arguments))||this).presetBubblePadding=12,e}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dt(t,e)}(e,t);var n=e.prototype;return n.initData=function(){return{listItem:{},bigImgUrl:"",index:0}},n.attached=function(){this.setThemeData(),this.reportOffSetWidth()},n.logParams=function(t){var e=this.data.get("listItem"),n=this.data.get("index"),a=e.appKey,i=e.buildId,r=e.name,o=e.linkUrl,s=e.type,c=e.topicPicId,l=a||i,u=At({},_t,{value:"agent_market"}),d="agent"===s?{agent_id:l,agent_name:r,pos:n+1,type:s}:{topic_id:c,jump_url:o,pos:n+1,type:s},p=At({},u,"show"===t?d:{ubcExt:At({},d)});return JSON.stringify(p)},n.setThemeData=function(){var t=this,e=this.data.get(),n=e.isAgentItem,a=e.itemData,i=null==a?void 0:a.bigImgUrl,r=null==a?void 0:a.themeData,o=r.color,s=r.opacity,c=r.gradientColor,l=c.start,u=c.end;if(this.el.style.cssText="background: linear-gradient(180deg, "+l+" 0%, "+u+" 100%)",this.ref("nameDom").style.cssText="color: "+o,this.ref("descDom").style.cssText="color: "+o+";opacity: "+s,n){this.ref("iconDom").style.cssText="color: "+o;var d=this.ref("presetTextDom1").clientWidth;this.ref("presetTextDom1").style.cssText="opacity: "+s,this.ref("presetBoxDom1").style.cssText="margin-bottom: var(--cos-space-xxs);",this.ref("presetBubbleDom").style.cssText="width:"+(d+2*this.presetBubblePadding)+"px;",window.addEventListener("resize",(function(e){var n=t.ref("presetTextDom1").clientWidth;t.ref("presetBubbleDom").style.cssText="width:"+(n+2*t.presetBubblePadding)+"px;"}))}else this.data.set("bigImgUrl",i),this.ref("imgMaskDom").style.cssText="background: linear-gradient(180deg, "+l+" 70%, "+this.hexToRgba(u,0)+" 100%);",this.ref("imgDom").style.cssText="background-image: url("+i+");"},n.handleCilck=function(){this.fire("handle-click")},n.reportOffSetWidth=function(){var t;this.fire("save-off-set-width",null==(t=this.el)?void 0:t.offsetWidth)},n.hexToRgba=function(t,e){return"rgba("+parseInt("0x"+t.slice(1,3),16)+","+parseInt("0x"+t.slice(3,5),16)+","+parseInt("0x"+t.slice(5,7),16)+","+e+")"},e}(t.Component);Lt.trimWhitespace="all",Lt.computed={itemData:function(){var t,e=this.data.get("listItem");return"object"==(void 0===e?"undefined":(t=e)&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t)&&null!==e?e:{}},isAgentItem:function(){var t;return(null==(t=this.data.get("itemData"))?void 0:t.type)===Ot.AGENT},presetText:function(){var t;return(null==(t=this.data.get("itemData"))?void 0:t.preset)||[]}};var jt={};jt=Object.assign(jt,{itemContainer:"item-container_1dnuh_1","item-container":"item-container_1dnuh_1",itemHeader:"item-header_1dnuh_14","item-header":"item-header_1dnuh_14",leftBox:"left-box_1dnuh_21","left-box":"left-box_1dnuh_21",img:"img_1dnuh_26",headerText:"header-text_1dnuh_32","header-text":"header-text_1dnuh_32",name:"name_1dnuh_41",descText:"descText_1dnuh_48",iconContainer:"icon-container_1dnuh_56","icon-container":"icon-container_1dnuh_56",imgMask:"img-mask_1dnuh_67","img-mask":"img-mask_1dnuh_67",itemContent:"item-content_1dnuh_75","item-content":"item-content_1dnuh_75",presetBgColor:"preset-bg-color_1dnuh_86","preset-bg-color":"preset-bg-color_1dnuh_86",preset:"preset_1dnuh_86",text:"text_1dnuh_98",presetBubble:"preset-bubble_1dnuh_105","preset-bubble":"preset-bubble_1dnuh_105",imgItemContent:"img-item-content_1dnuh_119","img-item-content":"img-item-content_1dnuh_119"}),Lt.template='\n    <div\n        class="{{$style[\'item-container\']}}"\n        on-click="handleCilck"\n        data-show-ext="{{logParams(\'show\')}}"\n        data-click-log="{{logParams(\'click\')}}"\n        need-click-log>\n        <div\n            class="{{$style[\'item-header\']}}"\n            s-ref="headerDom">\n            <div class="{{$style[\'left-box\']}}">\n                <img\n                    class="{{$style[\'img\']}}"\n                    src="{{itemData.avatar}}"\n                />\n                <div class="{{$style[\'header-text\']}}">\n                    <div\n                        class="{{$style[\'name\']}} cos-line-clamp-1"\n                        s-ref="nameDom">\n                        {{itemData.name}}\n                    </div>\n                    <div\n                        class="{{$style[\'descText\']}} cos-line-clamp-1"\n                        s-ref="descDom">\n                        {{itemData.intro}}\n                    </div>\n                </div>\n            </div>\n            <div s-if="{{isAgentItem}}" class="{{$style[\'icon-container\']}}">\n                <i class="cos-icon" s-ref="iconDom">&#xe7c6;</i>\n            </div>\n        </div>\n\n        \x3c!-- img类型的顶部蒙层 --\x3e\n        <div\n            s-if="{{!isAgentItem}}"\n            s-ref="imgMaskDom"\n            class="{{$style[\'img-mask\']}}"\n        ></div>\n        <div s-if="{{isAgentItem}}" class="{{$style[\'item-content\']}}">\n\n            \x3c!-- 单行预置词单行截断，双行预置词双行截断 --\x3e\n            <div\n                s-for="text, index in presetText"\n                s-ref="{{\'presetBoxDom\' + (index + 1)}}"\n                class="{{$style[\'preset\']}} {{index ? $style[\'preset-bg-color\'] : \'\'}}"\n            >\n                <span\n                    class="{{$style[\'text\']}} {{\'cos-line-clamp-\' + (index + 1)}}"\n                    s-ref="{{\'presetTextDom\' + (index + 1)}}"\n                >{{text}}</span>\n\n                \x3c!-- 单行预置词气泡背景层 --\x3e\n                <div\n                    s-if="{{index === 0}}"\n                    s-ref="presetBubbleDom"\n                    class="{{$style[\'preset-bubble\']}}"\n                ></div>\n            </div>\n        </div>\n        <div s-else class="{{$style[\'item-content\']}}">\n        </div>\n\n        \x3c!-- 图片运营类背景图 --\x3e\n        <div\n            s-if="{{!isAgentItem}}"\n            s-ref="imgDom"\n            class="{{$style[\'img-item-content\']}}">\n        </div>\n    </div>\n';var Ct="function"==typeof Lt?Lt.prototype.initData||$t:Lt.initData||$t;function $t(){return{$style:jt}}function Nt(){return Object.assign({},Ct.call(this),{$style:jt})}function Rt(t,e){return Rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Rt(t,e)}"function"==typeof Lt?Lt.prototype.initData=Nt:Lt.initData=Nt;var qt=function(t){function e(){var e;return(e=t.apply(this,Array.from(arguments))||this).excellentItemMargin=8,e}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rt(t,e)}(e,t);var n=e.prototype;return n.initData=function(){return{excellent:{},childPipe:{},excellentOffSetWidth:0,listScrolledWidth:0,listRealWidth:0,listClientWidth:0}},n.attached=function(){var t=this;this.nextTick((function(){t.initScroll()})),window.addEventListener("resize",(function(){t.initScroll()})),this.watch("excellentOffSetWidth",(function(e){var n=t.data.get("excellentSize"),a=n*e+(n-1)*t.excellentItemMargin;t.data.set("listRealWidth",a)}))},n.handleExcellentClick=function(t){var e=this.data.get("childPipe");switch(null==t?void 0:t.type){case Ot.AGENT:e?e.postMessage({name:ut.OPEN_NEW_AGENT_CONVERSATION,data:t}):this.jumpToTargetUrl(t.linkUrl);break;case Ot.IMG:e?this.data.get("childPipe").postMessage({name:ut.JUMP_TO_TARGET_URL,data:{targetUrl:t.linkUrl}}):this.jumpToTargetUrl(t.linkUrl)}},n.jumpToTargetUrl=function(t){t&&window&&window.open(t,"_blank")},n.handleListScrollX=function(){var t=this.ref("listDom").scrollLeft;this.data.set("listScrolledWidth",t)},n.initScroll=function(){var t=this.el,e=this.ref("listDom"),n=e&&e.scrollWidth,a=t&&t.clientWidth;this.data.set("listRealWidth",n),this.data.set("listClientWidth",a)},n.doScroll=function(t){var e=this.ref("listDom"),n=this.data.get("listScrolledWidth"),a=this.data.get("listRealWidth"),i=this.data.get("listClientWidth"),r=t===Tt.RIGHT_CLICK?a-n>i?i:a-i:n>i?i:n,o=t===Tt.LEFT_CLICK?n-r:r+n;e.scrollTo({left:o,behavior:"smooth"}),this.data.set("listScrolledWidth",o)},n.saveOffSetWidth=function(t){this.data.set("excellentOffSetWidth",t)},e}(t.Component);qt.trimWhitespace="all",qt.components={"cs-excellent-item":Lt},qt.computed={listData:function(){var t,e=null==(t=this.data.get("excellent"))?void 0:t.list;return Array.isArray(e)?e:[]},showLeftClickBtn:function(){return this.data.get("listScrolledWidth")>0},showRightClickBtn:function(){return this.data.get("listScrolledWidth")<this.data.get("listRealWidth")-this.data.get("listClientWidth")-25},excellentSize:function(){return this.data.get("listData").length}};var Wt={};Wt=Object.assign(Wt,{scrollBox:"scroll-box_1fz8y_1","scroll-box":"scroll-box_1fz8y_1",excellentWrap:"excellent-wrap_1fz8y_2","excellent-wrap":"excellent-wrap_1fz8y_2",excellentList:"excellent-list_1fz8y_2","excellent-list":"excellent-list_1fz8y_2",left:"left_1fz8y_2",right:"right_1fz8y_3",scrollBtn:"scroll-btn_1fz8y_8","scroll-btn":"scroll-btn_1fz8y_8",excellentRightBtn:"excellent-right-btn_1fz8y_39","excellent-right-btn":"excellent-right-btn_1fz8y_39",rightInFromLeft:"rightInFromLeft_1fz8y_1",excellentLeftBtn:"excellent-left-btn_1fz8y_42","excellent-left-btn":"excellent-left-btn_1fz8y_42",slideOutFromLeft:"slideOutFromLeft_1fz8y_1",item:"item_1fz8y_60"}),qt.template='\n    \x3c!-- 增加滑动时的动画 --\x3e\n    <div class="{{$style[\'excellent-wrap\']}}\n        {{showRightClickBtn && !showLeftClickBtn ? $style[\'excellent-right-btn\'] : \'\'}}\n        {{showLeftClickBtn ? $style[\'excellent-left-btn\'] : \'\'}}\n    " data-show-area>\n        <div\n            s-ref="listDom"\n            on-scroll="handleListScrollX"\n            class="{{$style[\'excellent-list\']}}"\n        >\n            <cs-excellent-item\n                s-for="item, index in listData"\n                list-item="{{item}}"\n                index="{{index}}"\n                class="{{index ? $style[\'item\'] : \'\'}}"\n                on-handle-click="handleExcellentClick(item)"\n                on-save-off-set-width="saveOffSetWidth"\n            />\n            <div s-if="{{showLeftClickBtn}}" class="{{$style[\'left\']}}">\n                <div\n                    class="{{$style[\'scroll-btn\']}}"\n                    on-click="doScroll(\'leftClick\')">\n                    <i class="cos-icon {{$style[\'left-icon\']}}">&#xe6df;</i>\n                </div>\n            </div>\n            <div s-if="{{showRightClickBtn}}" class="{{$style[\'right\']}}">\n                <div\n                    class="{{$style[\'scroll-btn\']}}"\n                    on-click="doScroll(\'rightClick\')"\n                >\n                    <i class="cos-icon">&#xe6d3;</i>\n                </div>\n            </div>\n        </div>\n    </div>\n';var Bt="function"==typeof qt?qt.prototype.initData||Ut:qt.initData||Ut;function Ut(){return{$style:Wt}}function Ft(){return Object.assign({},Bt.call(this),{$style:Wt})}function Ht(t,e){return Ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ht(t,e)}"function"==typeof qt?qt.prototype.initData=Ft:qt.initData=Ft;var Mt=function(t){function e(){return t.apply(this,Array.from(arguments))}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ht(t,e)}(e,t);var n=e.prototype;return n.initData=function(){return{text:"",size:"md",showIcon:!1}},n.handleTileClick=function(t){var e=this.data.get("text");this.dispatch("agent-category-title-click",{e:t,text:e})},e}(t.Component);Mt.trimWhitespace="all";var zt={};zt=Object.assign(zt,{title:"title_359yk_1",text:"text_359yk_8",titleXs:"title-xs_359yk_11","title-xs":"title-xs_359yk_11",titleSm:"title-sm_359yk_16","title-sm":"title-sm_359yk_16",titleMd:"title-md_359yk_21","title-md":"title-md_359yk_21",titleLg:"title-lg_359yk_26","title-lg":"title-lg_359yk_26",icon:"icon_359yk_31"}),Mt.template='\n    <div class="{{$style[\'title\']}}" on-click="handleTileClick">\n        <div class="{{$style[\'text\']}} {{$style[\'title-\' + size]}}">\n            {{text}}\n        </div>\n        <i s-if="showIcon" class="{{$style[\'icon\']}} cos-icon">&#xe6d3;</i>\n    </div>\n';var Jt="function"==typeof Mt?Mt.prototype.initData||Gt:Mt.initData||Gt;function Gt(){return{$style:zt}}function Qt(){return Object.assign({},Jt.call(this),{$style:zt})}function Kt(t,e){return Kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Kt(t,e)}"function"==typeof Mt?Mt.prototype.initData=Qt:Mt.initData=Qt;var Vt=function(t){function e(){return t.apply(this,Array.from(arguments))}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kt(t,e)}(e,t);var n=e.prototype;return n.initData=function(){return{src:"",alt:"",placeholder:"",size:"md",_loading:!0}},n.load=function(){this.data.set("_loading",!1)},e}(t.Component);Vt.trimWhitespace="all";var Xt={};Xt=Object.assign(Xt,{avatar:"avatar_1m896_1",avatarImg:"avatar-img_1m896_4","avatar-img":"avatar-img_1m896_4",avatarPlaceholder:"avatar-placeholder_1m896_5","avatar-placeholder":"avatar-placeholder_1m896_5",avatarSm:"avatar-sm_1m896_14","avatar-sm":"avatar-sm_1m896_14",avatarMd:"avatar-md_1m896_18","avatar-md":"avatar-md_1m896_18",avatarLg:"avatar-lg_1m896_22","avatar-lg":"avatar-lg_1m896_22"}),Vt.template='\n    <div class="{{$style[\'avatar\']}} {{$style[\'avatar-\' + size]}}">\n        <img\n            s-if="_loading && placeholder"\n            src="{{placeholder}}"\n            class="{{$style[\'avatar-placeholder\']}}"\n        />\n        <img\n            class="{{$style[\'avatar-img\']}}"\n            src="{{src}}"\n            alt="{{alt}}"\n            on-load="load"\n            on-error="load"\n        />\n    </div>\n';var Yt="function"==typeof Vt?Vt.prototype.initData||Zt:Vt.initData||Zt;function Zt(){return{$style:Xt}}function te(){return Object.assign({},Yt.call(this),{$style:Xt})}function ee(t){var e=Number(t);return"number"!=typeof e?0:e>9999?(e/1e4).toFixed(1)+"万":e}function ne(t,e){return ne=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ne(t,e)}"function"==typeof Vt?Vt.prototype.initData=te:Vt.initData=te;var ae=function(t){function e(){return t.apply(this,Array.from(arguments))}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ne(t,e)}(e,t);var n=e.prototype;return n.initData=function(){return{avatar:""}},n.attached=function(){this.el.setAttribute("data-show-area","true"),this.fire("card-show")},n.handleAgentClick=function(){var t=this.data.get(),e=t.linkUrl,n=t.appKey,a=t.name,i=t.intro,r=t.avatar,o=t.index;this.dispatch("agent-item-click",{linkUrl:e,appKey:n,name:a,intro:i,index:o,avatar:r})},e}(t.Component);ae.trimWhitespace="all",ae.components={"cs-avatar":Vt},ae.filters={format:function(t){return ee(t)}};var ie={};ie=Object.assign(ie,{commonCard:"common-card_1fzbd_1","common-card":"common-card_1fzbd_1",inner:"inner_1fzbd_27",desc:"desc_1fzbd_33",name:"name_1fzbd_37",intro:"intro_1fzbd_44",value:"value_1fzbd_51",icon:"icon_1fzbd_57"}),ae.template='\n    <div\n        class="{{$style[\'common-card\']}} cos-row cos-row-12"\n        on-click="handleAgentClick">\n        <div class="{{$style[\'inner\']}}">\n            <cs-avatar src="{{avatar}}" class="cos-col-4"></cs-avatar>\n            <div class="{{$style[\'desc\']}} cos-col-8">\n                <div class="{{$style[\'name\']}} cos-line-clamp-1">{{name}}</div>\n                <div class="{{$style[\'intro\']}} cos-line-clamp-1">{{intro}}</div>\n                <div class="{{$style[\'value\']}}">\n                    <i class="cos-icon {{$style[\'icon\']}}">&#xe7cd;</i>\n                    {{value | format}}\n                </div>\n            </div>\n        </div>\n    </div>\n';var re="function"==typeof ae?ae.prototype.initData||oe:ae.initData||oe;function oe(){return{$style:ie}}function se(){return Object.assign({},re.call(this),{$style:ie})}function ce(t,e){return ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ce(t,e)}"function"==typeof ae?ae.prototype.initData=se:ae.initData=se;var le=function(t){function e(){return t.apply(this,Array.from(arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ce(t,e)}(e,t),e.prototype.initData=function(){return{index:1}},e}(t.Component);le.trimWhitespace="all";var ue={};ue=Object.assign(ue,{rank:"rank_672y0_1",rank1:"rank-1_672y0_13","rank-1":"rank-1_672y0_13",rank2:"rank-2_672y0_17","rank-2":"rank-2_672y0_17",rank3:"rank-3_672y0_21","rank-3":"rank-3_672y0_21"}),le.template="\n    <div class=\"{{$style['rank']}} {{index < 4 ? $style['rank-' + index] : ''}}\">\n        {{index}}\n    </div>\n";var de="function"==typeof le?le.prototype.initData||pe:le.initData||pe;function pe(){return{$style:ue}}function fe(){return Object.assign({},de.call(this),{$style:ue})}function he(t,e){return he=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},he(t,e)}"function"==typeof le?le.prototype.initData=fe:le.initData=fe;var me=function(t){function e(){return t.apply(this,Array.from(arguments))}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&he(t,e)}(e,t);var n=e.prototype;return n.initData=function(){return{avatar:"",index:1,size:"md"}},n.attached=function(){this.el.setAttribute("data-show-area","true"),this.fire("card-show")},n.handleAgentClick=function(){var t=this.data.get(),e=t.linkUrl,n=t.appKey,a=t.name,i=t.intro,r=t.avatar,o=t.index;this.dispatch("agent-item-click",{linkUrl:e,appKey:n,name:a,intro:i,avatar:r,index:o})},e}(t.Component);me.trimWhitespace="all",me.components={"cs-avatar":Vt,"cs-rank":le},me.filters={format:function(t){return ee(t)}};var ge={};ge=Object.assign(ge,{hotCard:"hot-card_2i7lv_1","hot-card":"hot-card_2i7lv_1",hotCard1:"hot-card-1_2i7lv_19","hot-card-1":"hot-card-1_2i7lv_19",hotCard2:"hot-card-2_2i7lv_22","hot-card-2":"hot-card-2_2i7lv_22",hotCard3:"hot-card-3_2i7lv_25","hot-card-3":"hot-card-3_2i7lv_25",desc:"desc_2i7lv_28",name:"name_2i7lv_38",intro:"intro_2i7lv_45",value:"value_2i7lv_53",icon:"icon_2i7lv_57"}),me.template='\n    <div\n        class="{{$style[\'hot-card\']}} {{$style[\'hot-card-\' + index]}}"\n        on-click="handleAgentClick"\n    >\n        <cs-rank index="{{index}}"></cs-rank>\n        <cs-avatar src="{{avatar}}" size="{{size}}"></cs-avatar>\n        <div class="{{$style[\'desc\']}}">\n            <div class="{{$style[\'name\']}} cos-line-clamp-1">{{name}}</div>\n            <div class="{{$style[\'intro\']}} cos-line-clamp-1">{{intro}}</div>\n            <div class="{{$style[\'value\']}}">\n                <i class="cos-icon {{$style[\'icon\']}}">&#xe78c;</i>\n                {{value | format}}\n            </div>\n        </div>\n    </div>\n';var ye="function"==typeof me?me.prototype.initData||ve:me.initData||ve;function ve(){return{$style:ge}}function be(){return Object.assign({},ye.call(this),{$style:ge})}"function"==typeof me?me.prototype.initData=be:me.initData=be;var _e=function(t){return Object.prototype.toString.call(t)};function we(t){return"[object Object]"===_e(t)}function xe(t,e,n){void 0===n&&(n={});var a,i,r,o,s,c,l=0,u=!1,d=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function f(e){var n=a,r=i;return a=i=void 0,c=e,o=t.apply(r,n)}function h(t){var n=t-c;return void 0===c||n>=e||n<0||d&&t-l>=r}function m(){var t=Date.now();if(h(t))return g(t);s=setTimeout(m,function(t){var n=t-l,a=e-(t-c);return d?Math.min(a,r-n):a}(t))}function g(t){return s=void 0,p&&a?f(t):(a=i=void 0,o)}function y(){var t=Date.now(),n=h(t);if(a=Array.prototype.slice.call(Array.from(arguments)),i=this,c=t,n){if(void 0===s)return function(t){return l=t,s=setTimeout(m,e),u?f(t):o}(c);if(d)return s=setTimeout(m,e),f(c)}return void 0===s&&(s=setTimeout(m,e)),o}return e=+e||0,we(n)&&(u=!!n.leading,r=(d="maxWait"in n)?Math.max(void 0===n.maxWait?0:+n.maxWait,e):r,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==s&&clearTimeout(s),l=0,a=i=s=void 0},y.flush=function(){return void 0===s?o:g(Date.now())},y}function Se(t,e,n){void 0===n&&(n={});var a=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return we(n)&&(a="leading"in n?!!n.leading:a,i="trailing"in n?!!n.trailing:i),xe(t,e,{leading:a,maxWait:e,trailing:i})}function ke(){return ke=Object.assign||function(t){for(var e=1;e<Array.from(arguments).length;e++){var n=Array.from(arguments)[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ke.apply(this,Array.from(arguments))}function Oe(t,e){return Oe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Oe(t,e)}var Te=function(t){function e(){return t.apply(this,Array.from(arguments))}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oe(t,e)}(e,t);var n=e.prototype;return n.initData=function(){return{hot:{},category:[],testData:[]}},n.attached=function(){this.onCardShow=Se(this.onCardShow,100)},n.onCardShow=function(){it()},n.logHotParams=function(t,e,n){var a=t.appKey,i=t.buildId,r=t.name,o=a||i,s=ke({},_t,{value:"agent_hot_app"}),c={agent_id:o,agent_name:r,pos:e+1,tab_name:"发现",tab_pos:1},l=ke({},s,"click"===n?{ubcExt:ke({},c)}:c);return JSON.stringify(l)},n.logCateParams=function(t,e,n,a,i){var r=t.tabName,o=e.appKey,s=e.buildId,c=e.name,l=o||s,u=ke({},_t,{value:"agent_type"}),d={agent_id:l,agent_name:c,pos:a+1,module_name:r,module_pos:n+1,tab_name:"发现",tab_pos:1},p=ke({},u,"click"===i?{ubcExt:ke({},d)}:d);return JSON.stringify(p)},n.logCateTitle=function(t,e){return JSON.stringify(ke({},_t,{value:"module_title",ubcExt:{module_name:t,module_pos:e,tab_name:"发现",tab_pos:1}}))},e}(t.Component);Te.trimWhitespace="all",Te.computed={hotList:function(){var t=this.data.get("hot").agentList;return t?t.slice(0,6):[]},categoryList:function(){return this.data.get("category").map((function(t){return ke({},t,{agentList:t.agentList&&t.agentList.slice(0,6)})}))}},Te.components={"cs-title":Mt,"cs-common-card":ae,"cs-hot-card":me};var Ie={};Ie=Object.assign(Ie,{hot:"hot_xak4e_1",hotList:"hot-list_xak4e_5","hot-list":"hot-list_xak4e_5",hotListItem:"hot-list-item_xak4e_12","hot-list-item":"hot-list-item_xak4e_12",categoryList:"category-list_xak4e_21","category-list":"category-list_xak4e_21",categoryListItem:"category-list-item_xak4e_29","category-list-item":"category-list-item_xak4e_29",categoryTitleMargin:"category-title-margin_xak4e_37","category-title-margin":"category-title-margin_xak4e_37"}),Te.template='\n    <fragment>\n        <div s-if="hotList.length" class="{{$style[\'hot\']}}" data-show-area>\n            <cs-title\n                showIcon\n                text="{{hot.tabName}}"\n                size="md"\n                class="cos-space-mb-lg"\n                attr-data-click-log="{{logCateTitle(hot.tabName, 1)}}"\n                attr-need-click-log></cs-title>\n            <div class="{{$style[\'hot-list\']}}">\n                <div\n                    s-for="item, index in hotList"\n                    class="{{$style[\'hot-list-item\']}}"\n                    data-show-ext="{{logHotParams(item, index, \'show\')}}"\n                    data-click-log="{{logHotParams(item, index, \'click\')}}"\n                    need-click-log>\n                    <cs-hot-card\n                        s-bind="{{item}}"\n                        value="{{item.hotValue}}"\n                        index="{{index + 1}}"\n                        size="lg"\n                        on-card-show="onCardShow()"></cs-hot-card>\n                </div>\n            </div>\n        </div>\n        <div s-if="categoryList.length" class="{{$style[\'category\']}}">\n            <div s-for="item, index in categoryList" data-show-area>\n                <cs-title\n                    text="{{item.tabName}}"\n                    showIcon\n                    size="md"\n                    class="cos-space-mb-lg {{index === 0 ? \'cos-space-mt-3xl\' : $style[\'category-title-margin\']}}"\n                    attr-data-click-log="{{logCateTitle(item.tabName, index + 2)}}"\n                    attr-need-click-log></cs-title>\n                <div class="{{$style[\'category-list\']}}">\n                    <div\n                        s-for="child, k in item.agentList"\n                        class="{{$style[\'category-list-item\']}}"\n                        data-show-ext="{{logCateParams(item, child, index, k, \'show\')}}"\n                        data-click-log="{{logCateParams(item, child, index, k, \'click\')}}"\n                        need-click-log>\n                        <cs-common-card\n                            s-bind="{{child}}"\n                            value="{{child.useCount}}"\n                            on-card-show="onCardShow()"\n                        ></cs-common-card>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </fragment>\n';var Ee="function"==typeof Te?Te.prototype.initData||Pe:Te.initData||Pe;function Pe(){return{$style:Ie}}function Ae(){return Object.assign({},Ee.call(this),{$style:Ie})}function De(){return De=Object.assign||function(t){for(var e=1;e<Array.from(arguments).length;e++){var n=Array.from(arguments)[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},De.apply(this,Array.from(arguments))}function Le(t,e){return Le=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Le(t,e)}"function"==typeof Te?Te.prototype.initData=Ae:Te.initData=Ae;var je=function(t){function e(){return t.apply(this,Array.from(arguments))}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Le(t,e)}(e,t);var n=e.prototype;return n.initData=function(){return{list:[],tabName:"",tabIndex:0}},n.attached=function(){this.onCardShow=Se(this.onCardShow,100)},n.onCardShow=function(){it()},n.logParams=function(t,e,n){var a=this.data.get("tabName"),i=this.data.get("tabIndex"),r=t.appKey,o=t.buildId,s=t.name,c=r||o,l=De({},_t,{value:"agent_type"}),u={agent_id:c,agent_name:s,pos:e+1,tab_name:a,tab_pos:i+1},d=De({},l,"click"===n?{ubcExt:De({},u)}:u);return JSON.stringify(d)},e}(t.Component);je.trimWhitespace="all",je.components={"cs-hot-card":me};var Ce={};Ce=Object.assign(Ce,{list:"list_1qime_1"}),je.template='\n    <div class="{{$style[\'list\']}}">\n        <fragment class="{{$style[\'list-item\']}}" s-for="card, index in list">\n            <cs-hot-card\n                s-bind="{{card}}"\n                value="{{card.hotValue}}"\n                index="{{index + 1}}"\n                size="lg"\n                attr-data-show-ext="{{logParams(card, index, \'show\')}}"\n                attr-need-click-log\n                attr-data-click-log="{{logParams(card, index, \'click\')}}"\n                on-card-show="onCardShow()"></cs-hot-card>\n        </fragment>\n    </div>\n';var $e="function"==typeof je?je.prototype.initData||Ne:je.initData||Ne;function Ne(){return{$style:Ce}}function Re(){return Object.assign({},$e.call(this),{$style:Ce})}function qe(){return qe=Object.assign||function(t){for(var e=1;e<Array.from(arguments).length;e++){var n=Array.from(arguments)[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},qe.apply(this,Array.from(arguments))}function We(t,e){return We=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},We(t,e)}"function"==typeof je?je.prototype.initData=Re:je.initData=Re;var Be=function(t){function e(){return t.apply(this,Array.from(arguments))}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&We(t,e)}(e,t);var n=e.prototype;return n.initData=function(){return{list:[],tabName:"",tabIndex:0}},n.attached=function(){this.onCardShow=Se(this.onCardShow,100)},n.onCardShow=function(){it()},n.logParams=function(t,e,n){var a=this.data.get("tabName"),i=this.data.get("tabIndex"),r=t.appKey,o=t.buildId,s=t.name,c=r||o,l=qe({},_t,{value:"agent_type"}),u={agent_id:c,agent_name:s,pos:e+1,tab_name:a,tab_pos:i+1},d=qe({},l,"click"===n?{ubcExt:qe({},u)}:u);return JSON.stringify(d)},e}(t.Component);Be.trimWhitespace="all",Be.components={"cs-common-card":ae};var Ue={};Ue=Object.assign(Ue,{list:"list_18ptq_1"}),Be.template='\n    <div class="{{$style[\'list\']}}">\n        <fragment class="{{$style[\'list-item\']}}" s-for="card, index in list">\n            <cs-common-card\n                s-bind="{{card}}"\n                value="{{card.useCount}}"\n                attr-data-show-ext="{{logParams(card, index, \'show\')}}"\n                attr-need-click-log\n                attr-data-click-log="{{logParams(card, index, \'click\')}}"\n                on-card-show="onCardShow()"\n            ></cs-common-card>\n        </fragment>\n    </div>\n';var Fe="function"==typeof Be?Be.prototype.initData||He:Be.initData||He;function He(){return{$style:Ue}}function Me(){return Object.assign({},Fe.call(this),{$style:Ue})}function ze(t,e){return ze=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ze(t,e)}"function"==typeof Be?Be.prototype.initData=Me:Be.initData=Me;var Je=function(t){function e(){return t.apply(this,Array.from(arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ze(t,e)}(e,t),e.prototype.initData=function(){return{text:"正在加载...",showIcon:!0}},e}(t.Component);Je.trimWhitespace="all";var Ge={};Ge=Object.assign(Ge,{loading:"loading_4y3gs_1",loadingIcon:"loading-icon_4y3gs_7","loading-icon":"loading-icon_4y3gs_7",loadingText:"loading-text_4y3gs_11","loading-text":"loading-text_4y3gs_11"}),Je.template='\n    <div class="{{$style[\'loading\']}}">\n        <slot name="icon">\n            <i s-if="showIcon" class="cs-icon c-icon-chart1 {{$style[\'loading-icon\']}}"></i>\n        </slot>\n        <div s-if="text" class="{{$style[\'loading-text\']}}">\n            {{text}}\n        </div>\n    </div>\n';var Qe,Ke="function"==typeof Je?Je.prototype.initData||Ve:Je.initData||Ve;function Ve(){return{$style:Ge}}function Xe(){return Object.assign({},Ke.call(this),{$style:Ge})}function Ye(t,e,n){void 0===n&&(n={});var a,i,r,o,s,c,l=0,u=!1,d=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function f(e){var n=a,r=i;return a=i=void 0,c=e,o=t.apply(r,n)}function h(t){var n=t-c;return void 0===c||n>=e||n<0||d&&t-l>=r}function m(){var t=Date.now();if(h(t))return g(t);s=setTimeout(m,function(t){var n=t-l,a=e-(t-c);return d?Math.min(a,r-n):a}(t))}function g(t){return s=void 0,p&&a?f(t):(a=i=void 0,o)}function y(){var t=Date.now(),n=h(t);if(a=Array.prototype.slice.call(Array.from(arguments)),i=this,c=t,n){if(void 0===s)return function(t){return l=t,s=setTimeout(m,e),u?f(t):o}(c);if(d)return s=setTimeout(m,e),f(c)}return void 0===s&&(s=setTimeout(m,e)),o}return e=+e||0,O(n)&&(u=!!n.leading,r=(d="maxWait"in n)?Math.max(void 0===n.maxWait?0:+n.maxWait,e):r,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==s&&clearTimeout(s),l=0,a=i=s=void 0},y.flush=function(){return void 0===s?o:g(Date.now())},y}function Ze(t,e,n){void 0===n&&(n={});var a=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return O(n)&&(a="leading"in n?!!n.leading:a,i="trailing"in n?!!n.trailing:i),Ye(t,e,{leading:a,maxWait:e,trailing:i})}function tn(t,e){return tn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},tn(t,e)}"function"==typeof Je?Je.prototype.initData=Xe:Je.initData=Xe,function(t){t.LOADING="loading",t.SUCCESS="success",t.BLANK="blank",t.ERROR="error"}(Qe||(Qe={}));var en=function(t){function e(){return t.apply(this,Array.from(arguments))}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tn(t,e)}(e,t);var n=e.prototype;return n.initData=function(){return{type:Qe.BLANK,fetchStatus:Qe,hintIconUrl:"https://gips0.baidu.com/it/u=2126111914,4201166097&fm=3028&app=3028&f=PNG&fmt=auto&q=100&size=f271_271",searchIconUrl:"https://gips1.baidu.com/it/u=1666496343,1893458403&fm=3028&app=3028&f=PNG&fmt=auto&q=100&size=f271_271"}},n.attached=function(){this.retryFunc=Ze(this.retry.bind(this),1e3,{leading:!0,trailing:!0})},n.retry=function(){this.fire("retry",null)},e}(t.Component);en.trimWhitespace="all",en.computed={text:function(){return this.data.get("type")===Qe.BLANK?"抱歉，暂无更多智能体":"加载失败，请稍候重试"}};var nn={};nn=Object.assign(nn,{exception:"exception_8lg1j_1",exceptionContent:"exception-content_8lg1j_10","exception-content":"exception-content_8lg1j_10",iconBox:"icon-box_8lg1j_16","icon-box":"icon-box_8lg1j_16",img:"img_8lg1j_22",text:"text_8lg1j_26",retryBox:"retry-box_8lg1j_33","retry-box":"retry-box_8lg1j_33",retry:"retry_8lg1j_33"}),en.template='\n    <div class="{{$style[\'exception\']}}">\n        <div class="{{$style[\'exception-content\']}}">\n            <div class="{{$style[\'icon-box\']}}">\n                <img s-if="{{type === fetchStatus.BLANK}}" class="{{$style[\'img\']}}" src="{{searchIconUrl}}"></img>\n                <img s-else class="{{$style[\'img\']}}" src="{{hintIconUrl}}"></img>\n            </div>\n            <div class="{{$style[\'text\']}}">{{text}}</div>\n            <div class="{{$style[\'retry-box\']}}">\n                <div s-if="{{type === fetchStatus.ERROR}}" class="{{$style[\'retry\']}}" on-click="retryFunc">重新加载</div>\n            </div>\n        </div>\n    </div>\n';var an="function"==typeof en?en.prototype.initData||rn:en.initData||rn;function rn(){return{$style:nn}}function on(){return Object.assign({},an.call(this),{$style:nn})}function sn(){return sn=Object.assign||function(t){for(var e=1;e<Array.from(arguments).length;e++){var n=Array.from(arguments)[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},sn.apply(this,Array.from(arguments))}function cn(t,e,n,a){void 0===e&&(e={}),void 0===n&&(n={}),void 0===a&&(a=500);var i=new URLSearchParams(e).toString();return function(t,e,n,a){return void 0===e&&(e={}),void 0===n&&(n=500),void 0===a&&(a=!1),Promise.race([fetch(t,e).then((function(t){if(t.ok){var e=t.headers.get("Content-Type");return a&&e&&e.includes("text/html")?t.text():t.json()}return Promise.reject({status:-2})})),new Promise((function(t){return setTimeout((function(){return t({status:-9999})}),n)}))])}(i?t+"?"+i:t,sn({method:"GET"},n),a)}function ln(t,e,n,a,i,r,o){try{var s=t[r](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(a,i)}function un(){return un=Object.assign||function(t){for(var e=1;e<Array.from(arguments).length;e++){var n=Array.from(arguments)[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},un.apply(this,Array.from(arguments))}function dn(t,e){return dn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},dn(t,e)}function pn(t,e){var n,a,i,r,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,a=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){o.label=r[1];break}if(6===r[0]&&o.label<i[1]){o.label=i[1],i=r;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(r);break}i[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],a=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}"function"==typeof en?en.prototype.initData=on:en.initData=on;var fn=function(t){function e(){var e;return(e=t.apply(this,Array.from(arguments))||this).listScroll=Ze(e.appendList.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)),300,{leading:!0,trailing:!0}),e}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dn(t,e)}(e,t);var n=e.prototype;return n.initData=function(){return{searchData:{},showResult:!1,fetchSuccess:!0,haveResult:!0,searchQuery:"",pageSize:50,pageNum:1,showLoading:!0,showFootLoading:!1,showLoadingIcon:!1,loadingText:"正在加载...",resFetchStatus:""}},n.attached=function(){var t=this;this.fetchData(this.data.get("searchQuery")),this.watch("searchQuery",(function(e){t.fetchData(e)})),window.addEventListener("scroll",(function(){t.listScroll()}))},n.fetchData=function(t){var e=this;this.data.set("showLoading",!0);t&&cn(bt.SEARCH,{keyword:t,callFrom:"pc",format:"json",pageSize:50,pageNum:1},{},2e3).then((function(t){var n;0===t.code?(e.data.set("fetchSuccess",!0),(null==(n=t.data)?void 0:n.agentList)?(e.data.set("haveResult",!0),e.data.set("searchData",t.data)):e.data.set("haveResult",!1)):(e.data.set("resFetchStatus",Qe.ERROR),e.data.set("fetchSuccess",!1))})).catch((function(t){e.data.set("resFetchStatus",Qe.ERROR),e.data.set("fetchSuccess",!1)})).finally((function(){e.data.set("showLoading",!1)})),this.onCardShow=Ze(this.onCardShow,100)},n.onCardShow=function(){it()},n.appendList=function(){var t,e=this;return(t=function(){var t,n,a,i,r,o,s,c,l;return pn(this,(function(u){switch(u.label){case 0:return t=document.documentElement||document.body,n=window.innerHeight+t.scrollTop>=t.scrollHeight,a=e.data.get("pageNum"),i=e.data.get("showFootLoading"),!n||i?[3,2]:(e.data.set("showFootLoading",!0),o=a+1,e.data.set("pageNum",o),[4,cn(bt.SEARCH,{keyword:e.data.get("searchQuery"),callFrom:"pc",format:"json",pageSize:50,pageNum:o},{},2e3)]);case 1:0===(s=u.sent()).code&&s.data&&(null==s||null==(r=s.data)?void 0:r.agentList)?(e.data.set("showFootLoading",!1),c=e.data.get("searchData"),l=un({},s.data,{agentList:c.agentList.concat(s.data.agentList)}),e.data.set("searchData",l)):(e.data.set("showLoadingIcon",!1),e.data.set("loadingText","已经到底啦~")),u.label=2;case 2:return[2]}}))},function(){var e=this,n=Array.from(arguments);return new Promise((function(a,i){var r=t.apply(e,n);function o(t){ln(r,a,i,o,s,"next",t)}function s(t){ln(r,a,i,o,s,"throw",t)}o(void 0)}))})()},n.reLoad=function(){var t=this.data.get("searchQuery");this.fetchData(t)},n.logResultParams=function(){var t=this.data.get("searchQuery"),e=un({},_t,{value:"search_result"}),n=un({},e,{ubcExt:{query:t}});return JSON.stringify(n)},n.logAgentParams=function(t,e,n){var a=t.appKey,i=t.buildId,r=t.name,o=a||i,s=this.data.get("searchQuery"),c=un({},_t,{value:"agent_search_result"}),l={agent_id:o,agent_name:r,pos:e+1,query:s},u=un({},c,"click"===n?{ubcExt:un({},l)}:{agent_info:un({},l)});return JSON.stringify(u)},e}(t.Component);fn.trimWhitespace="all",fn.components={"cs-common-card":ae,"cs-loading":Je,"cs-error":en};var hn={};hn=Object.assign(hn,{resultInfo:"result-info_1c2cx_1","result-info":"result-info_1c2cx_1",childResult:"child-result_1c2cx_5","child-result":"child-result_1c2cx_5",agentList:"agent-list_1c2cx_12","agent-list":"agent-list_1c2cx_12",agentListItem:"agent-list-item_1c2cx_21","agent-list-item":"agent-list-item_1c2cx_21",agentListLoading:"agent-list-loading_1c2cx_29","agent-list-loading":"agent-list-loading_1c2cx_29",noResult:"no-result_1c2cx_35","no-result":"no-result_1c2cx_35",searchImage:"search-image_1c2cx_43","search-image":"search-image_1c2cx_43",noresultText:"noresult-text_1c2cx_47","noresult-text":"noresult-text_1c2cx_47",listLoading:"list-loading_1c2cx_54","list-loading":"list-loading_1c2cx_54",loadingImg:"loading-img_1c2cx_61","loading-img":"loading-img_1c2cx_61",errInfo:"err-info_1c2cx_69","err-info":"err-info_1c2cx_69"}),fn.template='\n    <div s-if="{{fetchSuccess}}" class="\n    {{$style[\'result-info\']}}\n    {{haveResult ? \'\' : $style[\'child-result\']}}"\n        data-show-area\n        data-show-ext="{{logResultParams}}"\n    >\n        <div\n            s-if="{{haveResult && !showLoading}}"\n            class="{{$style[\'agent-list\']}}"\n        >\n            <div\n                class="{{$style[\'agent-list-item\']}}"\n                s-for="agent, index in searchData.agentList"\n                data-show-area\n                data-show-ext="{{logAgentParams(agent, index, \'show\')}}"\n                data-click-log="{{logAgentParams(agent, index, \'click\')}}"\n                need-click-log\n            >\n                \x3c!-- 展示搜索结果的智能体 --\x3e\n                <cs-common-card\n                    s-bind="{{agent}}"\n                    value="{{agent.useCount}}"\n                    on-card-show="onCardShow()"\n                >\n                </cs-common-card>\n            </div>\n        </div>\n        <div s-else-if="{{!haveResult && !showLoading}}" class="{{$style[\'no-result\']}}">\n            \x3c!-- 无结果 --\x3e\n            <img class="{{$style[\'search-image\']}}" src="https://gips2.baidu.com/it/u=550010948,2283944575&fm=3028&app=3028&f=PNG&fmt=auto&q=100&size=f361_361"></img>\n            <span class="{{$style[\'noresult-text\']}}">抱歉，暂无相关搜索结果</span>\n        </div>\n        \x3c!-- 展示加载图片 --\x3e\n        <div s-else class="{{$style[\'list-loading\']}}">\n            <img class="{{$style[\'loading-img\']}}" src="https://gips2.baidu.com/it/u=3262891772,2220874484&fm=3028&app=3028&f=PNG&fmt=auto&q=100&size=f1489_187"></img>\n        </div>\n        \x3c!-- 滑动到底部时展示的加载 --\x3e\n        <cs-loading\n            s-if="{{showFootLoading}}"\n            class="{{$style[\'agent-list-loading\']}}"\n            showIcon="{{showLoadingIcon}}"\n            text="{{loadingText}}"\n        ></cs-loading>\n    </div>\n    \x3c!-- 展示错误页面 --\x3e\n    <cs-error\n        s-else\n        type="{{resFetchStatus}}"\n        on-retry="reLoad"\n        class="{{$style[\'err-info\']}}"\n    ></cs-error>\n';var mn="function"==typeof fn?fn.prototype.initData||gn:fn.initData||gn;function gn(){return{$style:hn}}function yn(){return Object.assign({},mn.call(this),{$style:hn})}function vn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bn(t,e,n,a,i,r,o){try{var s=t[r](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(a,i)}function _n(t){return function(){var e=this,n=Array.from(arguments);return new Promise((function(a,i){var r=t.apply(e,n);function o(t){bn(r,a,i,o,s,"next",t)}function s(t){bn(r,a,i,o,s,"throw",t)}o(void 0)}))}}function wn(){return wn=Object.assign||function(t){for(var e=1;e<Array.from(arguments).length;e++){var n=Array.from(arguments)[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},wn.apply(this,Array.from(arguments))}function xn(t,e){return xn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},xn(t,e)}function Sn(t,e){var n,a,i,r,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,a=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){o.label=r[1];break}if(6===r[0]&&o.label<i[1]){o.label=i[1],i=r;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(r);break}i[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],a=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}"function"==typeof fn?fn.prototype.initData=yn:fn.initData=yn;var kn=function(t){function e(){var e;return(e=t.call(this)||this).tabFixedScrollY=249,e.tabScrollYFunc=Ze(e.tabFixed.bind(vn(e)),100,{leading:!0,trailing:!0}),e.listScroll=Ze(e.appendList.bind(vn(e)),300,{leading:!0,trailing:!0}),e}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xn(t,e)}(e,t);var n=e.prototype;return n.initData=function(){return{showResult:!1,activeTab:"",isTabFixed:!1,pageNum:1,pageSize:50,loadingText:"正在加载...",showLoadingIcon:!0,excellent:{},tabInfo:[],tabData:{},showErrorPage:!1,tabScrolledWidth:0,tabRealWidth:0,tabClientWidth:0,selectedTabIndex:0,shouldScrollWidth:0,showRight:!1,showLeft:!1,searchQuery:"",childPipe:{},tabFetchStatus:"",fetchTabRetry:!1}},n.receiveHeader=function(t){var e=t.searchQuery,n=t.showResult;this.data.set("searchQuery",e),this.data.set("showResult",n)},n.logTabParams=function(t,e,n){var a=t.tabName,i=wn({},_t,{value:"agent_tab"}),r={tab_name:a,tab_pos:e+1},o=wn({},i,"click"===n?{ubcExt:wn({},r)}:r);return JSON.stringify(o)},n.initScroll=function(){var t=this.getDom("tabs"),e=this.getDom("tabList"),n=e&&e.scrollWidth,a=t&&t.clientWidth;this.data.set("tabRealWidth",n),this.data.set("tabClientWidth",a)},n.tabScrollX=function(){var t=this.getDom("tabList");if("number"==typeof t.scrollLeft){var e=t.scrollLeft;this.data.set("tabScrolledWidth",e)}},n.move=function(t){var e=this.getDom("tabList"),n=this.data.get("tabClientWidth"),a=this.data.get("tabRealWidth"),i=this.data.get("tabScrolledWidth"),r="right"===t?a-i>n?n:a-n:i>n?n:i,o="left"===t?i-r:r+i;e.scrollTo({left:o,behavior:"smooth"}),this.data.set("tabScrolledWidth",o)},n.scrollToIndex=function(){var t=this.data.get("selectedTabIndex"),e=this.getDom("tab-"+t);if(e){var n=this.getDom("tabList"),a=this.data.get("tabClientWidth"),i=this.data.get("tabRealWidth"),r=e.offsetLeft,o=0;o=r<a-119?0:r>i-a?i-a:r-a/2,n&&n.scrollTo({left:o,behavior:"smooth"})}},n.handleSelectTab=function(t,e){var n=this;this.data.get("isTabFixed")&&window.scrollTo({top:this.tabFixedScrollY,behavior:"smooth"});var a=this.data.get("selectedTabIndex"),i=this.data.get("fetchTabRetry");(a!==e||i)&&(this.data.set("pageNum",1),this.data.set("showLoadingIcon",!0),this.data.set("showLoading",!1),this.data.set("loadingText","正在加载..."),this.data.set("activeTab",t),this.data.set("selectedTabIndex",e),this.data.set("hoverTabIndex",-1),cn(bt.TAB,{tabName:t,callFrom:"pc",pageSize:50,pageNum:1},{},1e3).then((function(e){if(0===e.code){n.data.set("fetchTabRetry",!1);var a,i,r,o=null;if("发现"===t)o=null==(i=e.data)||null==(a=i.hot)?void 0:a.agentList;else o=null==(r=e.data)?void 0:r.agentList;return Array.isArray(o)&&o.length?(n.data.set("tabData",e.data),n.data.set("tabFetchStatus",Qe.SUCCESS),void n.nextTick((function(){var t,e;(e=null==(t=n.ref("content"))?void 0:t.el)&&e.querySelectorAll&&e.querySelectorAll("[data-show-area]").forEach((function(t){at.forceTrigger(t)}))}))):void n.data.set("tabFetchStatus",Qe.BLANK)}n.data.set("showErrorPage",!0),n.data.set("tabFetchStatus",Qe.ERROR)})))},n.handleHoverTab=function(t){t!==this.data.get("selectedTabIndex")&&this.data.set("hoverTabIndex",t)},n.handleLeaveTab=function(t){this.data.set("hoverTabIndex",-1)},n.appendList=function(){var t=this;return _n((function(){var e,n,a,i,r,o,s,c,l;return Sn(this,(function(u){switch(u.label){case 0:return e=document.documentElement||document.body,n=window.innerHeight+e.scrollTop>=e.scrollHeight,(a=t.data.get("activeTab"))&&"发现"!==a?(i=t.data.get("pageNum"),r=t.data.get("showLoading"),!n||r?[3,2]:(t.data.set("showLoading",!0),o=i+1,t.data.set("pageNum",o),[4,cn(bt.TAB,{tabName:a,callFrom:"pc",pageSize:50,pageNum:o},{},1e3)])):[2];case 1:0===(s=u.sent()).code&&s.data&&s.data.agentList?(t.data.set("showLoading",!1),c=t.data.get("tabData"),l=wn({},s.data,{agentList:c.agentList.concat(s.data.agentList)}),t.data.set("tabData",l)):2e4===s.code?(t.data.set("showLoadingIcon",!1),t.data.set("loadingText","已经到底啦~")):(t.data.set("showLoading",!1),t.data.set("showLoadingIcon",!1),t.data.set("showErrorPage",!0)),u.label=2;case 2:return[2]}}))}))()},n.getDom=function(t){return this.ref(t)},n.tabFixed=function(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>=this.data.get("tabsTop")?this.data.set("isTabFixed",!0):t<=this.data.get("tabsTop")&&this.data.set("isTabFixed",!1)},n.getPageData=function(){return _n((function(){var t,e;return Sn(this,(function(n){switch(n.label){case 0:return t={},t=C('script[name="agentPageData"]'),[3,3];case 1:return[4,cn(bt.SQUARE,{tabName:"发现",callFrom:"pc",format:"json"},{},1e3)];case 2:0===(e=n.sent()).code&&(t=e.data),n.label=3;case 3:return[2,t]}}))}))()},n.created=function(){var t=this;return _n((function(){var e,n,a,i,r,o;return Sn(this,(function(s){switch(s.label){case 0:return[4,t.getPageData()];case 1:if(e=s.sent()){for(n=e.excellent,a=e.tabInfo,i=void 0===a?[]:a,r=e.tabData,o=0;o<i.length;o++)i[o].active&&(t.data.set("activeTab",i[o].tabName),t.data.set("selectedTabIndex",o));t.data.set("excellent",n),t.data.set("tabInfo",i),t.data.set("tabData",r),t.initTabRealWidth()}else t.data.set("showErrorPage",!0);return[2]}}))}))()},n.attached=function(){var t=this;window.addEventListener("scroll",(function(){t.tabScrollYFunc(),t.listScroll()})),this.nextTick((function(){var e=t.getDom("tabs");document.documentElement.scrollTop||document.body.scrollTop;var n=e.getBoundingClientRect().top+11;t.data.set("tabsTop",n),t.tabFixed(),t.initScroll(),t.scrollToIndex()})),window.addEventListener("resize",(function(){t.initScroll(),t.scrollToIndex()})),this.buildMessagePipe()},n.buildMessagePipe=function(){var t=this;vt.sendIframeLoadStatus(ut.OPEN_NEW_AGENT_CONVERSATION,dt.LOADED),window.addEventListener("message",(function(e){var n=e.ports[0];t.data.set("childPipe",n)}))},n.initTabRealWidth=function(){var t=this,e=this.data.get("tabInfo"),n=e.length,a=!1,i=0;this.nextTick((function(){e.forEach((function(e,r){r===n-1&&"收藏"===e.tabName&&(a=!0);var o=t.ref("tab-"+r);i+=o.offsetWidth,r===n-1&&(i+=a?8*n+1:8*(n-1))})),t.data.set("tabRealWidth",i)}))},n.retryFetchTabData=function(){this.data.set("fetchTabRetry",!0);var t=this.data.get("activeTab"),e=this.data.get("selectedTabIndex");this.handleSelectTab(t,e)},e}(t.Component);kn.trimWhitespace="all",kn.components={"cs-head":St,"cs-excellent":qt,"cs-find-page":Te,"cs-hot-page":je,"cs-common-page":Be,"cs-loading":Je,"cs-error-page":en,"cs-result":fn},kn.computed={showLeft:function(){return this.data.get("tabScrolledWidth")>0},showRight:function(){return this.data.get("tabScrolledWidth")<this.data.get("tabRealWidth")-this.data.get("tabClientWidth")-1},showTabFetchErrorPage:function(){var t=this.data.get("tabFetchStatus");return t===Qe.BLANK||t===Qe.ERROR}},kn.messages={"agent-item-click":function(t){var e=this.data.get("childPipe");e&&e.postMessage({name:ut.OPEN_NEW_AGENT_CONVERSATION,data:t.value})},"agent-category-title-click":function(t){var e=t.value&&t.value.text,n=this.data.get("tabInfo").findIndex((function(t){return t.tabName===e}));this.handleSelectTab(e,n)}};var On={};On=Object.assign(On,{square:"square_1oxtx_1",content:"content_1oxtx_6",listLoading:"list-loading_1oxtx_11","list-loading":"list-loading_1oxtx_11",tabs:"tabs_1oxtx_17",leftBtnShow:"left-btn-show_1oxtx_21","left-btn-show":"left-btn-show_1oxtx_21",rightBtnShow:"right-btn-show_1oxtx_24","right-btn-show":"right-btn-show_1oxtx_24",divider:"divider_1oxtx_27",tabFixed:"tab-fixed_1oxtx_34","tab-fixed":"tab-fixed_1oxtx_34",left:"left_1oxtx_21",right:"right_1oxtx_24",tabList:"tab-list_1oxtx_53","tab-list":"tab-list_1oxtx_53",tab:"tab_1oxtx_17",tabIcon:"tab-icon_1oxtx_78","tab-icon":"tab-icon_1oxtx_78",tabText:"tab-text_1oxtx_83","tab-text":"tab-text_1oxtx_83",active:"active_1oxtx_91",hover:"hover_1oxtx_96",leftBtn:"left-btn_1oxtx_21","left-btn":"left-btn_1oxtx_21",rightBtn:"right-btn_1oxtx_24","right-btn":"right-btn_1oxtx_24"}),kn.template='\n    <div class="{{$style[\'square\']}}">\n        \x3c!-- header 头部 --\x3e\n        <cs-head\n            excellent="{{excellent}}"\n            child-pipe="{{childPipe}}"\n            on-head-click="receiveHeader"\n        ></cs-head>\n        <div s-if="!showResult">\n            \x3c!-- 今日精选 --\x3e\n            <cs-excellent excellent="{{excellent}}" child-pipe="{{childPipe}}"></cs-excellent>\n            \x3c!-- 分类tab --\x3e\n            <div\n                class="{{$style[\'tabs\']}} {{isTabFixed ? $style[\'tab-fixed\'] : \'\'}}"\n                data-show-area\n                s-ref="tabs">\n                <div\n                    s-ref="tabList"\n                    on-scroll="tabScrollX"\n                    class="{{$style[\'tab-list\']}}"\n                >\n                    <fragment\n                        s-for="tab, index in tabInfo"\n                    >\n                        <div s-if="index === tabInfo.length - 1 && tab.tabName === \'收藏\'" class="{{$style[\'divider\']}}"></div>\n                        <div\n                            class="{{[\n                                $style[\'tab\'],\n                                index === selectedTabIndex ? $style[\'active\'] : \'\',\n                                index === hoverTabIndex ? $style[\'hover\'] : \'\'\n                            ]}}"\n                            s-ref="{{\'tab-\' + index}}"\n                            on-click="handleSelectTab(tab.tabName, index)"\n                            on-mouseover="handleHoverTab(index)"\n                            on-mouseleave="handleLeaveTab"\n                            need-click-log\n                            data-click-log="{{logTabParams(tab, index, \'click\')}}"\n                            data-show-ext="{{logTabParams(tab, index, \'show\')}}">\n                            <img class="{{$style[\'tab-icon\']}}" src="{{tab.tabIconUrl}}" />\n                            <span class="{{$style[\'tab-text\']}}">{{tab.tabName}}</span>\n                        </div>\n                    </fragment>\n                </div>\n                <div s-if="showLeft" class="{{$style[\'left\']}}">\n                    <div\n                        class="{{$style[\'left-btn\']}}"\n                        on-click="move(\'left\')">\n                        <i class="cos-icon {{$style[\'left-icon\']}}">&#xe6df;</i>\n                    </div>\n                </div>\n                <div s-if="showRight" class="{{$style[\'right\']}}">\n                    <div\n                        class="{{$style[\'right-btn\']}}"\n                        on-click="move(\'right\')">\n                        <i class="cos-icon {{$style[\'right-icon\']}}">&#xe6d3;</i>\n                    </div>\n                </div>\n            </div>\n                \x3c!-- <cs-scroll-tab\n                    selectedTabIndex="{{selectedTabIndex}}"\n                    on-select-tab="handleSelectTab($event)"\n                    tab-info="{{tabInfo}}"\n                /> --\x3e\n            \x3c!-- 内容列表 --\x3e\n            <div class="{{$style[\'content\']}}">\n                <div s-if="{{!showTabFetchErrorPage}}">\n                    <fragment s-if="activeTab === \'发现\'">\n                        <cs-find-page s-ref="content" s-bind="tabData"></cs-find-page>\n                    </fragment>\n                    <fragment s-else-if="activeTab === \'热榜\'">\n                        <cs-hot-page\n                            s-ref="content"\n                            list="{{tabData.agentList}}"\n                            tabName="{{activeTab}}"\n                            tabIndex="{{selectedTabIndex}}"></cs-hot-page>\n                    </fragment>\n                    <fragment s-else>\n                        <cs-common-page\n                            s-ref="content"\n                            list="{{tabData.agentList}}"\n                            tabName="{{activeTab}}"\n                            tabIndex="{{selectedTabIndex}}"></cs-common-page>\n                    </fragment>\n                </div>\n                \x3c!-- 加载提示 --\x3e\n                <cs-loading\n                    s-if="{{showLoading && !showTabFetchErrorPage}}"\n                    class="{{$style[\'list-loading\']}}"\n                    showIcon="{{showLoadingIcon}}"\n                    text="{{loadingText}}"\n                ></cs-loading>\n                <cs-error-page\n                    s-if="{{showTabFetchErrorPage}}"\n                    type="{{tabFetchStatus}}"\n                    on-retry="retryFetchTabData"\n                ></cs-error-page>\n            </div>\n        </div>\n        <cs-result s-else search-query="{{searchQuery}}"></cs-result>\n    </div>\n';var Tn="function"==typeof kn?kn.prototype.initData||In:kn.initData||In;function In(){return{$style:On}}function En(){return Object.assign({},Tn.call(this),{$style:On})}function Pn(t,e){return Pn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Pn(t,e)}"function"==typeof kn?kn.prototype.initData=En:kn.initData=En;var An=function(t){function e(){return t.apply(this,Array.from(arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pn(t,e)}(e,t),e.prototype.initData=function(){return{showResult:!1}},e}(t.Component);An.trimWhitespace="all",An.components={"cs-index":kn,"cs-result":fn};var Dn={};Dn=Object.assign(Dn,{}),An.template='\n    <div>\n        <cs-index s-if="!showResult"></cs-index>\n        <cs-result s-else></cs-result> \n    </div>\n';var Ln="function"==typeof An?An.prototype.initData||jn:An.initData||jn;function jn(){return{$style:Dn}}function Cn(){return Object.assign({},Ln.call(this),{$style:Dn})}function $n(){return $n=Object.assign||function(t){for(var e=1;e<Array.from(arguments).length;e++){var n=Array.from(arguments)[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},$n.apply(this,Array.from(arguments))}function Nn(t,e){return Nn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Nn(t,e)}"function"==typeof An?An.prototype.initData=Cn:An.initData=Cn,window.sc.getESLInstance().addEslConfig({paths:{"js/cosmic.square.3016dc4b":"https://now.bdstatic.com/store/v2/d4f2bff/chat-search/250a41b/chat-square/static/js/cosmic.square.3016dc4b","js/search-components.square.e9df5fe7":"https://now.bdstatic.com/store/v2/d4f2bff/chat-search/250a41b/chat-square/static/js/search-components.square.e9df5fe7","js/bootstrap.square.381f51ad":"https://now.bdstatic.com/store/v2/d4f2bff/chat-search/250a41b/chat-square/static/js/bootstrap.square.381f51ad"}});var Rn=function(t){function e(){return t.apply(this,Array.from(arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nn(t,e)}(e,t),e.prototype.initData=function(){return{name:"智能体发现页"}},e}(t.Component);Rn.trimWhitespace="all",Rn.template="\n        <div>\n            <cs-agent-page/>\n        </div>\n    ",Rn.components={"cs-agent-page":An};var qn,Wn=new Rn,Bn=document.getElementById("app");Wn.attach(Bn),ft||(ft=!0,document.body.addEventListener("click",yt)),Bn.setAttribute("data-click-log",JSON.stringify({tcreq4log:1,t:"zbios",vit:"osres",l:"1",fm:"beha",clk_type:1,clk_info:{pd:"csaitab",tab_se:"1"},extra:{ctse_id:"",setype:"csaitab",scene:""}})),at.addEle(qn),Y($n({type:"display"},_t,{value:""}))})),require(["js/bootstrap.square.381f51ad"]);
