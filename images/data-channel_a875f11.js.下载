define("@baidu/data-channel/data-channel",["require"],function(t){function e(){this.events={}}var n=e.prototype,u={},d={};function i(){return this.data={},this.listeners={},this.length=0,this}n.on=function(t,e,n){if("string"==typeof t&&!("function"!=typeof e||n&&n.name&&"string"!=typeof n.name)){n=n||{};var i=this.getEvent(t),r=i.listeners;i.length+=1;var o=n.name||i.length+"";r[o]={fn:e,name:o,doAfter:n.doAfter||"",once:n.once||!1}}},n.one=function(t,e,n){(n=n||{}).once=!0,this.on(t,e,n)},
n.off=function(t,e){var n=this.events[t];if(n){var i=n.listeners;if("string"!=typeof e){if("function"==typeof e)for(var r in i)i.hasOwnProperty(r)&&i[r].fn===e&&delete i[r]}else i[e]&&delete i[e]}},n.exec=function(t,e,n,i){var r;try{if(n.fn.call(e,i||{}),!0===n.once&&this.off(t,n.fn),function(t){d[t]=1}(n.name),r=u[n.name]){for(var o=0,a=r.length;o<a;o++)this.exec(t,e,r[o],i);delete u[n.name]}}catch(t){}},n.trigger=function(t,e){var n=this.events[t];if(n){var i,r,o,a=n.listeners,s=null;for(
var c in a)a.hasOwnProperty(c)&&(s=a[c],1!==d[s.doAfter]&&s.doAfter&&"string"==typeof s.doAfter?(r=(i=s).doAfter,u[r]||(u[r]=[]),u[r].push(i)):this.exec(t,n,s,e));for(c in u)if(u.hasOwnProperty(c)){for(var f=0,h=(o=u[c]).length;f<h;f++)this.exec(t,n,o[f],e);delete u[c]}d={}}},n.getEvent=function(t){return void 0===this.events[t]&&(this.events[t]=new i),this.events[t]},i.prototype.getData=function(){return this.data},i.prototype.setData=function(t,e){var n=this.data
;"string"!=typeof t||void 0===e?"[object Object]"===String(t)&&(n=$.extend(!0,n,t)):n[t]=e};var r=new e,o="baiduboxapp://v5/datachannel";function a(t){return this.action="action="+t,this}function s(t){var e=document.createElement("iframe"),n=document.body;e.style.display="none",e.src=t,n.appendChild(e),setTimeout(function(){n.removeChild(e),e=null},0)}function c(t,e){var n,i=new URL(t);for(n in e)e.hasOwnProperty(n)&&("object"==typeof e[n]&&(e[n]=JSON.stringify(e[n])),i.searchParams.append(n,
e[n]));return i}return a.prototype.register=function(t,e){if((t=t||{}).jscallback&&e){var n=o+"/register?"+this.action;n=c(n,t);var i=t.jscallback.split(".")[1];window[i]||(window[i]=e,s(n))}},a.prototype.sendbroadcast=function(t){var e=o+"/sendbroadcast?"+this.action;s(e=c(e,t=t||{}))},a.prototype.unregister=function(){var t=o+"/unregister?"+this.action,e="dataChannel_"+this.action.split(".").join("_");window[e]||(window[e]=!0,s(t))},a.create=function(t){var e=new a(t);return e.unregister(),e},
{DatachannelAction:a,events:r,createScheme:c}});;
define("@baidu/data-channel",["require","@baidu/data-channel/data-channel"],function(a,n){return n});